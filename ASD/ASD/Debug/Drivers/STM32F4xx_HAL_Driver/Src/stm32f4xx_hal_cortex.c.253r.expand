
;; Function __NVIC_SetPriorityGrouping (__NVIC_SetPriorityGrouping, funcdef_no=106, decl_uid=6438, cgraph_uid=107, symbol_order=106)

void __NVIC_SetPriorityGrouping (uint32_t PriorityGroup)
{
  uint32_t PriorityGroupTmp;
  uint32_t reg_value;
  struct SCB_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  struct SCB_Type * _4;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  PriorityGroupTmp_6 = PriorityGroup_5(D) & 7;
  _1 = 3758157056B;
  reg_value_8 ={v} _1->AIRCR;
  reg_value_9 = reg_value_8 & 63743;
  _2 = PriorityGroupTmp_6 << 8;
  _3 = reg_value_9 | _2;
  reg_value_10 = _3 | 100270080;
  _4 = 3758157056B;
  _4->AIRCR ={v} reg_value_10;
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (PriorityGroup_5(D) - 5 )
Partition 6 (PriorityGroupTmp_6 - 6 )
Partition 8 (reg_value_8 - 8 )
Partition 9 (reg_value_9 - 9 )
Partition 10 (reg_value_10 - 10 )


Coalescible Partition map 

Partition 0, base 0 (PriorityGroup_5(D) - 5 )
Partition 1, base 1 (reg_value_8 - 8 9 10 )


Partition map 

Partition 0 (PriorityGroup_5(D) - 5 )
Partition 1 (reg_value_8 - 8 )
Partition 2 (reg_value_9 - 9 )
Partition 3 (reg_value_10 - 10 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(2147483646, 0) reg_value_8 <-> reg_value_9
(2147483646, 0) reg_value_8 <-> reg_value_10

Partition map 

Partition 0 (PriorityGroup_5(D) - 5 )
Partition 1 (reg_value_8 - 8 )
Partition 2 (reg_value_9 - 9 )
Partition 3 (reg_value_10 - 10 )

Coalesce list: (8)reg_value_8 & (9)reg_value_9 [map: 1, 2] : Success -> 1
Coalesce list: (8)reg_value_8 & (10)reg_value_10 [map: 1, 3] : Success -> 1
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (PriorityGroup_5(D) - 5 )
Partition 5 (PriorityGroupTmp_6 - 6 )
Partition 6 (reg_value_8 - 8 9 10 )

void __NVIC_SetPriorityGrouping (uint32_t PriorityGroup)
{
  uint32_t PriorityGroupTmp;
  uint32_t reg_value;
  struct SCB_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  struct SCB_Type * _4;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  PriorityGroupTmp_6 = PriorityGroup_5(D) & 7;
  _1 = 3758157056B;
  reg_value_8 ={v} _1->AIRCR;
  reg_value_9 = reg_value_8 & 63743;
  _2 = PriorityGroupTmp_6 << 8;
  _3 = reg_value_9 | _2;
  reg_value_10 = _3 | 100270080;
  _4 = 3758157056B;
  _4->AIRCR ={v} reg_value_10;
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; PriorityGroupTmp_6 = PriorityGroup_5(D) & 7;

(insn 6 5 7 (set (reg:SI 118)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 PriorityGroup+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1656:12 -1
     (nil))

(insn 7 6 8 (set (reg:SI 117)
        (and:SI (reg:SI 118)
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1656:12 -1
     (nil))

(insn 8 7 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])
        (reg:SI 117)) "../Drivers/CMSIS/Include/core_cm4.h":1656:12 -1
     (nil))

;; _1 = 3758157056B;

(insn 9 8 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1658:20 -1
     (nil))

;; reg_value_8 ={v} _1->AIRCR;

(insn 10 9 11 (set (reg:SI 119)
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 12 [0xc])) [1 _1->AIRCR+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1658:14 -1
     (nil))

(insn 11 10 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])
        (reg:SI 119)) "../Drivers/CMSIS/Include/core_cm4.h":1658:14 -1
     (nil))

;; reg_value_9 = reg_value_8 & 63743;

(insn 12 11 13 (set (reg:SI 121)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (nil))

(insn 13 12 14 (set (reg:SI 120)
        (const_int 63743 [0xf8ff])) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (nil))

(insn 14 13 15 (set (reg:SI 120)
        (and:SI (reg:SI 121)
            (reg:SI 120))) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (expr_list:REG_EQUAL (and:SI (reg:SI 121)
            (const_int 63743 [0xf8ff]))
        (nil)))

(insn 15 14 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])
        (reg:SI 120)) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (nil))

;; _2 = PriorityGroupTmp_6 << 8;

(insn 16 15 17 (set (reg:SI 122)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1662:35 -1
     (nil))

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (ashift:SI (reg:SI 122)
            (const_int 8 [0x8]))) "../Drivers/CMSIS/Include/core_cm4.h":1662:35 -1
     (nil))

;; _3 = reg_value_9 | _2;

(insn 18 17 19 (set (reg:SI 123)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1661:62 -1
     (nil))

(insn 19 18 0 (set (reg:SI 115 [ _3 ])
        (ior:SI (reg:SI 114 [ _2 ])
            (reg:SI 123))) "../Drivers/CMSIS/Include/core_cm4.h":1661:62 -1
     (nil))

;; reg_value_10 = _3 | 100270080;

(insn 20 19 21 (set (reg:SI 124)
        (ior:SI (reg:SI 115 [ _3 ])
            (const_int 100139008 [0x5f80000]))) "../Drivers/CMSIS/Include/core_cm4.h":1660:14 -1
     (nil))

(insn 21 20 22 (set (reg:SI 124)
        (ior:SI (reg:SI 124)
            (const_int 131072 [0x20000]))) "../Drivers/CMSIS/Include/core_cm4.h":1660:14 -1
     (expr_list:REG_EQUAL (ior:SI (reg:SI 115 [ _3 ])
            (const_int 100270080 [0x5fa0000]))
        (nil)))

(insn 22 21 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])
        (reg:SI 124)) "../Drivers/CMSIS/Include/core_cm4.h":1660:14 -1
     (nil))

;; _4 = 3758157056B;

(insn 23 22 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1663:6 -1
     (nil))

;; _4->AIRCR ={v} reg_value_10;

(insn 24 23 25 (set (reg:SI 125)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1663:14 -1
     (nil))

(insn 25 24 0 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 12 [0xc])) [1 _4->AIRCR+0 S4 A32])
        (reg:SI 125)) "../Drivers/CMSIS/Include/core_cm4.h":1663:14 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 PriorityGroup+0 S4 A32])
        (reg:SI 0 r0 [ PriorityGroup ])) "../Drivers/CMSIS/Include/core_cm4.h":1654:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg:SI 118)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 PriorityGroup+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1656:12 -1
     (nil))
(insn 7 6 8 2 (set (reg:SI 117)
        (and:SI (reg:SI 118)
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1656:12 -1
     (nil))
(insn 8 7 9 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])
        (reg:SI 117)) "../Drivers/CMSIS/Include/core_cm4.h":1656:12 -1
     (nil))
(insn 9 8 10 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1658:20 -1
     (nil))
(insn 10 9 11 2 (set (reg:SI 119)
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 12 [0xc])) [1 _1->AIRCR+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1658:14 -1
     (nil))
(insn 11 10 12 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])
        (reg:SI 119)) "../Drivers/CMSIS/Include/core_cm4.h":1658:14 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 121)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (nil))
(insn 13 12 14 2 (set (reg:SI 120)
        (const_int 63743 [0xf8ff])) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (nil))
(insn 14 13 15 2 (set (reg:SI 120)
        (and:SI (reg:SI 121)
            (reg:SI 120))) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (expr_list:REG_EQUAL (and:SI (reg:SI 121)
            (const_int 63743 [0xf8ff]))
        (nil)))
(insn 15 14 16 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])
        (reg:SI 120)) "../Drivers/CMSIS/Include/core_cm4.h":1659:13 -1
     (nil))
(insn 16 15 17 2 (set (reg:SI 122)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1662:35 -1
     (nil))
(insn 17 16 18 2 (set (reg:SI 114 [ _2 ])
        (ashift:SI (reg:SI 122)
            (const_int 8 [0x8]))) "../Drivers/CMSIS/Include/core_cm4.h":1662:35 -1
     (nil))
(insn 18 17 19 2 (set (reg:SI 123)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1661:62 -1
     (nil))
(insn 19 18 20 2 (set (reg:SI 115 [ _3 ])
        (ior:SI (reg:SI 114 [ _2 ])
            (reg:SI 123))) "../Drivers/CMSIS/Include/core_cm4.h":1661:62 -1
     (nil))
(insn 20 19 21 2 (set (reg:SI 124)
        (ior:SI (reg:SI 115 [ _3 ])
            (const_int 100139008 [0x5f80000]))) "../Drivers/CMSIS/Include/core_cm4.h":1660:14 -1
     (nil))
(insn 21 20 22 2 (set (reg:SI 124)
        (ior:SI (reg:SI 124)
            (const_int 131072 [0x20000]))) "../Drivers/CMSIS/Include/core_cm4.h":1660:14 -1
     (expr_list:REG_EQUAL (ior:SI (reg:SI 115 [ _3 ])
            (const_int 100270080 [0x5fa0000]))
        (nil)))
(insn 22 21 23 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])
        (reg:SI 124)) "../Drivers/CMSIS/Include/core_cm4.h":1660:14 -1
     (nil))
(insn 23 22 24 2 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1663:6 -1
     (nil))
(insn 24 23 25 2 (set (reg:SI 125)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 reg_value+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1663:14 -1
     (nil))
(insn 25 24 0 2 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 12 [0xc])) [1 _4->AIRCR+0 S4 A32])
        (reg:SI 125)) "../Drivers/CMSIS/Include/core_cm4.h":1663:14 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1664:1


;; Function __NVIC_GetPriorityGrouping (__NVIC_GetPriorityGrouping, funcdef_no=107, decl_uid=6443, cgraph_uid=108, symbol_order=107)

uint32_t __NVIC_GetPriorityGrouping ()
{
  uint32_t D.7969;
  struct SCB_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  uint32_t _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157056B;
  _2 ={v} _1->AIRCR;
  _3 = _2 >> 8;
  _5 = _3 & 7;
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _5;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 5 (_5 - 5 )
Partition 6 (_6(D) - 6 )


Coalescible Partition map 

Partition 0, base 0 (_6(D) - 6 )


Partition map 

Partition 0 (_6(D) - 6 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (_6(D) - 6 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_5 - 5 )
Partition 4 (_6(D) - 6 )

uint32_t __NVIC_GetPriorityGrouping ()
{
  uint32_t D.7969;
  struct SCB_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  uint32_t _5;
  uint32_t _6(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157056B;
  _2 ={v} _1->AIRCR;
  _3 = _2 >> 8;
  _5 = _3 & 7;
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _5;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = 3758157056B;

(insn 5 4 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1674:26 -1
     (nil))

;; _2 ={v} _1->AIRCR;

(insn 6 5 0 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 12 [0xc])) [1 _1->AIRCR+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1674:26 -1
     (nil))

;; _3 = _2 >> 8;

(insn 7 6 0 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 114 [ _2 ])
            (const_int 8 [0x8]))) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))

;; _5 = _3 & 7;

(insn 8 7 0 (set (reg:SI 116 [ _5 ])
        (and:SI (reg:SI 115 [ _3 ])
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; <L0>:

(code_label 9 8 10 5 (nil) [0 uses])

(note 10 9 0 NOTE_INSN_BASIC_BLOCK)

;; return _5;

(insn 11 10 12 (set (reg:SI 117 [ <retval> ])
        (reg:SI 116 [ _5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))

(jump_insn 12 11 13 (set (pc)
        (label_ref 0)) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))

(barrier 13 12 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Removing jump 12.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(insn 5 2 6 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1674:26 -1
     (nil))
(insn 6 5 7 2 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 12 [0xc])) [1 _1->AIRCR+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1674:26 -1
     (nil))
(insn 7 6 8 2 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 114 [ _2 ])
            (const_int 8 [0x8]))) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))
(insn 8 7 11 2 (set (reg:SI 116 [ _5 ])
        (and:SI (reg:SI 115 [ _3 ])
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))
(insn 11 8 15 2 (set (reg:SI 117 [ <retval> ])
        (reg:SI 116 [ _5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1674:11 -1
     (nil))
(insn 15 11 16 2 (set (reg/i:SI 0 r0)
        (reg:SI 117 [ <retval> ])) "../Drivers/CMSIS/Include/core_cm4.h":1675:1 -1
     (nil))
(insn 16 15 0 2 (use (reg/i:SI 0 r0)) "../Drivers/CMSIS/Include/core_cm4.h":1675:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_EnableIRQ (__NVIC_EnableIRQ, funcdef_no=108, decl_uid=6446, cgraph_uid=109, symbol_order=108)

void __NVIC_EnableIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.2_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  __asm__ __volatile__("" :  :  : "memory");
  IRQn.2_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.2_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ISER[_6] ={v} _7;
  __asm__ __volatile__("" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       2
;;                3
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (IRQn.2_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 9 (IRQn_9(D) - 9 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_9(D) - 9 )


Partition map 

Partition 0 (IRQn_9(D) - 9 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_9(D) - 9 )

After Coalescing:

Partition map 

Partition 0 (IRQn.2_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (IRQn_9(D) - 9 )

void __NVIC_EnableIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.2_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  __asm__ __volatile__("" :  :  : "memory");
  IRQn.2_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.2_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ISER[_6] ={v} _7;
  __asm__ __volatile__("" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       2
;;                3
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_9(D) >= 0)

(insn 12 7 13 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1686:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1686:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1686:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; __asm__ __volatile__("" :  :  : "memory");

(insn 16 15 0 (parallel [
            (asm_operands/v ("") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/core_cm4.h:1688)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1688:5 -1
     (nil))

;; IRQn.2_1 = (unsigned char) IRQn_9(D);

(insn 17 16 0 (set (reg:SI 113 [ IRQn.2_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:81 -1
     (nil))

;; _2 = (long unsigned int) IRQn.2_1;

(insn 18 17 0 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.2_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1689:81 -1
     (nil))

;; _3 = _2 & 31;

(insn 19 18 0 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:81 -1
     (nil))

;; _4 = 3758153984B;

(insn 20 19 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1689:9 -1
     (nil))

;; _5 = (long unsigned int) IRQn_9(D);

(insn 21 20 0 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:18 -1
     (nil))

;; _6 = _5 >> 5;

(insn 22 21 0 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:34 -1
     (nil))

;; _7 = 1 << _3;

(insn 23 22 24 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1689:45 -1
     (nil))

(insn 24 23 0 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:45 -1
     (nil))

;; _4->ISER[_6] ={v} _7;

(insn 25 24 0 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 118 [ _6 ])
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ISER[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1689:43 -1
     (nil))

;; __asm__ __volatile__("" :  :  : "memory");

(insn 26 25 0 (parallel [
            (asm_operands/v ("") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/core_cm4.h:1690)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1690:5 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 27 26 28 9 (nil) [0 uses])

(note 28 27 0 NOTE_INSN_BASIC_BLOCK)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Edge 2->5 redirected to 6
Merging block 5 into block 4...
Merged blocks 4 and 5.
Merged 4 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, MODIFIED, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 120)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1685:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 121)
        (subreg:QI (reg:SI 120) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1685:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 121)) "../Drivers/CMSIS/Include/core_cm4.h":1685:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1686:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1686:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref:SI 29)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1686:6 273 {arm_cond_branch}
     (nil)
 -> 29)
;;  succ:       4 (FALLTHRU)
;;              6 ../Drivers/CMSIS/Include/core_cm4.h:1692:1

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (parallel [
            (asm_operands/v ("") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/core_cm4.h:1688)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1688:5 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 113 [ IRQn.2_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:81 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.2_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1689:81 -1
     (nil))
(insn 19 18 20 4 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:81 -1
     (nil))
(insn 20 19 21 4 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1689:9 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:18 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:34 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1689:45 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1689:45 -1
     (nil))
(insn 25 24 26 4 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 118 [ _6 ])
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ISER[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1689:43 -1
     (nil))
(insn 26 25 29 4 (parallel [
            (asm_operands/v ("") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/core_cm4.h:1690)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1690:5 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1692:1

;; basic block 6, loop depth 0, maybe hot
;;  prev block 4, next block 1, flags: (NEW, REACHABLE, RTL)
;;  pred:       4 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1692:1
;;              2 ../Drivers/CMSIS/Include/core_cm4.h:1692:1
(code_label 29 26 30 6 8 (nil) [1 uses])
(note 30 29 0 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_DisableIRQ (__NVIC_DisableIRQ, funcdef_no=110, decl_uid=6452, cgraph_uid=111, symbol_order=110)

void __NVIC_DisableIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.3_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 6>; [INV]
;;    succ:       3
;;                6

;;   basic block 3, loop depth 0
;;    pred:       2
  IRQn.3_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.3_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ICER[_6] ={v} _7;
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       3
  __asm__ __volatile__("isb 0xF" :  :  : "memory");
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       4
;;    succ:       6

;;   basic block 6, loop depth 0
;;    pred:       2
;;                5
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (IRQn.3_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 9 (IRQn_9(D) - 9 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_9(D) - 9 )


Partition map 

Partition 0 (IRQn_9(D) - 9 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_9(D) - 9 )

After Coalescing:

Partition map 

Partition 0 (IRQn.3_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (IRQn_9(D) - 9 )

void __NVIC_DisableIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.3_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 6>; [INV]
;;    succ:       3
;;                6

;;   basic block 3, loop depth 0
;;    pred:       2
  IRQn.3_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.3_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ICER[_6] ={v} _7;
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       3
  __asm__ __volatile__("isb 0xF" :  :  : "memory");
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       4
;;    succ:       6

;;   basic block 6, loop depth 0
;;    pred:       2
;;                5
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_9(D) >= 0)

(insn 12 7 13 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1724:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1724:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1724:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; IRQn.3_1 = (unsigned char) IRQn_9(D);

(insn 16 15 0 (set (reg:SI 113 [ IRQn.3_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:81 -1
     (nil))

;; _2 = (long unsigned int) IRQn.3_1;

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.3_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1726:81 -1
     (nil))

;; _3 = _2 & 31;

(insn 18 17 0 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:81 -1
     (nil))

;; _4 = 3758153984B;

(insn 19 18 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1726:9 -1
     (nil))

;; _5 = (long unsigned int) IRQn_9(D);

(insn 20 19 0 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:18 -1
     (nil))

;; _6 = _5 >> 5;

(insn 21 20 0 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:34 -1
     (nil))

;; _7 = 1 << _3;

(insn 22 21 23 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1726:45 -1
     (nil))

(insn 23 22 0 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:45 -1
     (nil))

;; _4->ICER[_6] ={v} _7;

(insn 24 23 25 (set (reg:SI 126)
        (plus:SI (reg:SI 118 [ _6 ])
            (const_int 32 [0x20]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:43 -1
     (nil))

(insn 25 24 0 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 126)
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ICER[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1726:43 -1
     (nil))

;; __asm__ __volatile__("dsb 0xF" :  :  : "memory");

(insn 26 25 0 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; __asm__ __volatile__("isb 0xF" :  :  : "memory");

(insn 28 27 0 (parallel [
            (asm_operands/v ("isb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:260)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":260:3 -1
     (nil))

;; Generating RTL for gimple basic block 5

;; Generating RTL for gimple basic block 6

;; 

(code_label 30 29 31 14 (nil) [0 uses])

(note 31 30 0 NOTE_INSN_BASIC_BLOCK)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Edge 2->7 redirected to 8
Merging block 5 into block 4...
Merged blocks 4 and 5.
Merged 4 and 5 without moving.
Merging block 6 into block 4...
Merged blocks 4 and 6.
Merged 4 and 6 without moving.
Merging block 7 into block 4...
Merged blocks 4 and 7.
Merged 4 and 7 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, MODIFIED, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 120)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1723:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 121)
        (subreg:QI (reg:SI 120) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1723:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 121)) "../Drivers/CMSIS/Include/core_cm4.h":1723:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1724:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1724:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref:SI 32)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1724:6 273 {arm_cond_branch}
     (nil)
 -> 32)
;;  succ:       4 (FALLTHRU)
;;              8 ../Drivers/CMSIS/Include/core_cm4.h:1730:1

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 8, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (set (reg:SI 113 [ IRQn.3_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:81 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.3_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1726:81 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:81 -1
     (nil))
(insn 19 18 20 4 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1726:9 -1
     (nil))
(insn 20 19 21 4 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:18 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:34 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1726:45 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:45 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 126)
        (plus:SI (reg:SI 118 [ _6 ])
            (const_int 32 [0x20]))) "../Drivers/CMSIS/Include/core_cm4.h":1726:43 -1
     (nil))
(insn 25 24 26 4 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 126)
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ICER[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1726:43 -1
     (nil))
(insn 26 25 34 4 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))
(insn 34 26 28 4 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":272:1 -1
     (nil))
(insn 28 34 35 4 (parallel [
            (asm_operands/v ("isb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:260)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":260:3 -1
     (nil))
(insn 35 28 32 4 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":261:1 -1
     (nil))
;;  succ:       8 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1730:1

;; basic block 8, loop depth 0, maybe hot
;;  prev block 4, next block 1, flags: (NEW, REACHABLE, RTL)
;;  pred:       4 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1730:1
;;              2 ../Drivers/CMSIS/Include/core_cm4.h:1730:1
(code_label 32 35 33 8 13 (nil) [1 uses])
(note 33 32 0 8 [bb 8] NOTE_INSN_BASIC_BLOCK)
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_GetPendingIRQ (__NVIC_GetPendingIRQ, funcdef_no=111, decl_uid=6455, cgraph_uid=112, symbol_order=111)

uint32_t __NVIC_GetPendingIRQ (IRQn_Type IRQn)
{
  uint32_t D.8006;
  struct NVIC_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  unsigned char IRQn.7_5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  uint32_t _9;
  uint32_t _11;
  uint32_t _13;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_10(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153984B;
  _2 = (long unsigned int) IRQn_10(D);
  _3 = _2 >> 5;
  _4 ={v} _1->ISPR[_3];
  IRQn.7_5 = (unsigned char) IRQn_10(D);
  _6 = (long unsigned int) IRQn.7_5;
  _7 = _6 & 31;
  _8 = _4 >> _7;
  _13 = _8 & 1;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _11 = 0;
  // predicted unlikely by early return (on trees) predictor.
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _9 = PHI <_13(3), _11(4)>
<L2>:
  return _9;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (IRQn.7_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (IRQn_10(D) - 10 )
Partition 11 (_11 - 11 )
Partition 13 (_13 - 13 )
Partition 14 (_14(D) - 14 )


Coalescible Partition map 

Partition 0, base 0 (_9 - 9 11 13 )
Partition 1, base 1 (IRQn_10(D) - 10 )
Partition 4, base 2 (_14(D) - 14 )


Partition map 

Partition 0 (_9 - 9 )
Partition 1 (IRQn_10(D) - 10 )
Partition 2 (_11 - 11 )
Partition 3 (_13 - 13 )
Partition 4 (_14(D) - 14 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(10000, 0) _9 <-> _13
(10000, 0) _9 <-> _11

Partition map 

Partition 0 (_9 - 9 )
Partition 1 (IRQn_10(D) - 10 )
Partition 2 (_11 - 11 )
Partition 3 (_13 - 13 )
Partition 4 (_14(D) - 14 )

Coalesce list: (9)_9 & (13)_13 [map: 0, 3] : Success -> 0
Coalesce list: (9)_9 & (11)_11 [map: 0, 2] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (IRQn.7_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 11 13 )
Partition 9 (IRQn_10(D) - 10 )
Partition 10 (_14(D) - 14 )

uint32_t __NVIC_GetPendingIRQ (IRQn_Type IRQn)
{
  uint32_t D.8006;
  struct NVIC_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  unsigned char IRQn.7_5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  uint32_t _9;
  uint32_t _11;
  uint32_t _13;
  uint32_t _14(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_10(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153984B;
  _2 = (long unsigned int) IRQn_10(D);
  _3 = _2 >> 5;
  _4 ={v} _1->ISPR[_3];
  IRQn.7_5 = (unsigned char) IRQn_10(D);
  _6 = (long unsigned int) IRQn.7_5;
  _7 = _6 & 31;
  _8 = _4 >> _7;
  _13 = _8 & 1;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _11 = 0;
  // predicted unlikely by early return (on trees) predictor.
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _9 = PHI <_13(3), _11(4)>
<L2>:
  return _9;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_10(D) >= 0)

(insn 12 7 13 (set (reg:SI 127)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1743:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 127)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1743:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1743:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = 3758153984B;

(insn 16 15 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1745:29 -1
     (nil))

;; _2 = (long unsigned int) IRQn_10(D);

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:38 -1
     (nil))

;; _3 = _2 >> 5;

(insn 18 17 0 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 114 [ _2 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:54 -1
     (nil))

;; _4 ={v} _1->ISPR[_3];

(insn 19 18 20 (set (reg:SI 128)
        (plus:SI (reg:SI 115 [ _3 ])
            (const_int 64 [0x40]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:35 -1
     (nil))

(insn 20 19 0 (set (reg:SI 116 [ _4 ])
        (mem/v:SI (plus:SI (mult:SI (reg:SI 128)
                    (const_int 4 [0x4]))
                (reg/f:SI 113 [ _1 ])) [1 _1->ISPR[_3]+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1745:35 -1
     (nil))

;; IRQn.7_5 = (unsigned char) IRQn_10(D);

(insn 21 20 0 (set (reg:SI 117 [ IRQn.7_5 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:91 -1
     (nil))

;; _6 = (long unsigned int) IRQn.7_5;

(insn 22 21 0 (set (reg:SI 118 [ _6 ])
        (reg:SI 117 [ IRQn.7_5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1745:91 -1
     (nil))

;; _7 = _6 & 31;

(insn 23 22 0 (set (reg:SI 119 [ _7 ])
        (and:SI (reg:SI 118 [ _6 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:91 -1
     (nil))

;; _8 = _4 >> _7;

(insn 24 23 0 (set (reg:SI 120 [ _8 ])
        (lshiftrt:SI (reg:SI 116 [ _4 ])
            (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:103 -1
     (nil))

;; _13 = _8 & 1;

(insn 25 24 0 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (const_int 1 [0x1]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:12 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 4

;; 

(code_label 28 27 29 19 (nil) [0 uses])

(note 29 28 0 NOTE_INSN_BASIC_BLOCK)

;; _11 = 0;

(insn 30 29 0 (set (reg:SI 121 [ _9 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1749:11 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 5

;; <L2>:

(code_label 31 30 32 20 (nil) [0 uses])

(note 32 31 0 NOTE_INSN_BASIC_BLOCK)

;; return _9;

(insn 33 32 34 (set (reg:SI 122 [ <retval> ])
        (reg:SI 121 [ _9 ])) "../Drivers/CMSIS/Include/core_cm4.h":1751:1 -1
     (nil))

(jump_insn 34 33 35 (set (pc)
        (label_ref 0)) "../Drivers/CMSIS/Include/core_cm4.h":1751:1 -1
     (nil))

(barrier 35 34 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Removing jump 34.
Merging block 7 into block 6...
Merged blocks 6 and 7.
Merged 6 and 7 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 123)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1742:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 124)
        (subreg:QI (reg:SI 123) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1742:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 124)) "../Drivers/CMSIS/Include/core_cm4.h":1742:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 127)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1743:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 127)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1743:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 28)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1743:6 -1
     (nil)
 -> 28)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1745:29 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 114 [ _2 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:38 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 114 [ _2 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:54 -1
     (nil))
(insn 19 18 20 4 (set (reg:SI 128)
        (plus:SI (reg:SI 115 [ _3 ])
            (const_int 64 [0x40]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:35 -1
     (nil))
(insn 20 19 21 4 (set (reg:SI 116 [ _4 ])
        (mem/v:SI (plus:SI (mult:SI (reg:SI 128)
                    (const_int 4 [0x4]))
                (reg/f:SI 113 [ _1 ])) [1 _1->ISPR[_3]+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1745:35 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 117 [ IRQn.7_5 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:91 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 118 [ _6 ])
        (reg:SI 117 [ IRQn.7_5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1745:91 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 119 [ _7 ])
        (and:SI (reg:SI 118 [ _6 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:91 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 120 [ _8 ])
        (lshiftrt:SI (reg:SI 116 [ _4 ])
            (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:103 -1
     (nil))
(insn 25 24 26 4 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (const_int 1 [0x1]))) "../Drivers/CMSIS/Include/core_cm4.h":1745:12 -1
     (nil))
(jump_insn 26 25 27 4 (set (pc)
        (label_ref 31)) "../Drivers/CMSIS/Include/core_cm4.h":1745:12 -1
     (nil)
 -> 31)
;;  succ:       6 ../Drivers/CMSIS/Include/core_cm4.h:1745:12

(barrier 27 26 28)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 28 27 29 5 19 (nil) [1 uses])
(note 29 28 30 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 30 29 31 5 (set (reg:SI 121 [ _9 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1749:11 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1749:11

;; basic block 6, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       4 ../Drivers/CMSIS/Include/core_cm4.h:1745:12
;;              5 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1749:11
(code_label 31 30 32 6 20 (nil) [1 uses])
(note 32 31 33 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 33 32 37 6 (set (reg:SI 122 [ <retval> ])
        (reg:SI 121 [ _9 ])) "../Drivers/CMSIS/Include/core_cm4.h":1751:1 -1
     (nil))
(insn 37 33 38 6 (set (reg/i:SI 0 r0)
        (reg:SI 122 [ <retval> ])) "../Drivers/CMSIS/Include/core_cm4.h":1751:1 -1
     (nil))
(insn 38 37 0 6 (use (reg/i:SI 0 r0)) "../Drivers/CMSIS/Include/core_cm4.h":1751:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_SetPendingIRQ (__NVIC_SetPendingIRQ, funcdef_no=112, decl_uid=6458, cgraph_uid=113, symbol_order=112)

void __NVIC_SetPendingIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.6_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  IRQn.6_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.6_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ISPR[_6] ={v} _7;
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       2
;;                3
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (IRQn.6_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 9 (IRQn_9(D) - 9 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_9(D) - 9 )


Partition map 

Partition 0 (IRQn_9(D) - 9 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_9(D) - 9 )

After Coalescing:

Partition map 

Partition 0 (IRQn.6_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (IRQn_9(D) - 9 )

void __NVIC_SetPendingIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.6_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  IRQn.6_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.6_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ISPR[_6] ={v} _7;
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       2
;;                3
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_9(D) >= 0)

(insn 12 7 13 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1762:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1762:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1762:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; IRQn.6_1 = (unsigned char) IRQn_9(D);

(insn 16 15 0 (set (reg:SI 113 [ IRQn.6_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:81 -1
     (nil))

;; _2 = (long unsigned int) IRQn.6_1;

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.6_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1764:81 -1
     (nil))

;; _3 = _2 & 31;

(insn 18 17 0 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:81 -1
     (nil))

;; _4 = 3758153984B;

(insn 19 18 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1764:9 -1
     (nil))

;; _5 = (long unsigned int) IRQn_9(D);

(insn 20 19 0 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:18 -1
     (nil))

;; _6 = _5 >> 5;

(insn 21 20 0 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:34 -1
     (nil))

;; _7 = 1 << _3;

(insn 22 21 23 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1764:45 -1
     (nil))

(insn 23 22 0 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:45 -1
     (nil))

;; _4->ISPR[_6] ={v} _7;

(insn 24 23 25 (set (reg:SI 126)
        (plus:SI (reg:SI 118 [ _6 ])
            (const_int 64 [0x40]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:43 -1
     (nil))

(insn 25 24 0 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 126)
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ISPR[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1764:43 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 26 25 27 24 (nil) [0 uses])

(note 27 26 0 NOTE_INSN_BASIC_BLOCK)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Edge 2->5 redirected to 6
Merging block 5 into block 4...
Merged blocks 4 and 5.
Merged 4 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, MODIFIED, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 120)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1761:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 121)
        (subreg:QI (reg:SI 120) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1761:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 121)) "../Drivers/CMSIS/Include/core_cm4.h":1761:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1762:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1762:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref:SI 28)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1762:6 273 {arm_cond_branch}
     (nil)
 -> 28)
;;  succ:       4 (FALLTHRU)
;;              6 ../Drivers/CMSIS/Include/core_cm4.h:1766:1

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (set (reg:SI 113 [ IRQn.6_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:81 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.6_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1764:81 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:81 -1
     (nil))
(insn 19 18 20 4 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1764:9 -1
     (nil))
(insn 20 19 21 4 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:18 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:34 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1764:45 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:45 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 126)
        (plus:SI (reg:SI 118 [ _6 ])
            (const_int 64 [0x40]))) "../Drivers/CMSIS/Include/core_cm4.h":1764:43 -1
     (nil))
(insn 25 24 28 4 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 126)
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ISPR[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1764:43 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1766:1

;; basic block 6, loop depth 0, maybe hot
;;  prev block 4, next block 1, flags: (NEW, REACHABLE, RTL)
;;  pred:       4 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1766:1
;;              2 ../Drivers/CMSIS/Include/core_cm4.h:1766:1
(code_label 28 25 29 6 23 (nil) [1 uses])
(note 29 28 0 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_ClearPendingIRQ (__NVIC_ClearPendingIRQ, funcdef_no=113, decl_uid=6461, cgraph_uid=114, symbol_order=113)

void __NVIC_ClearPendingIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.8_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  IRQn.8_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.8_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ICPR[_6] ={v} _7;
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       2
;;                3
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (IRQn.8_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 9 (IRQn_9(D) - 9 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_9(D) - 9 )


Partition map 

Partition 0 (IRQn_9(D) - 9 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_9(D) - 9 )

After Coalescing:

Partition map 

Partition 0 (IRQn.8_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (IRQn_9(D) - 9 )

void __NVIC_ClearPendingIRQ (IRQn_Type IRQn)
{
  unsigned char IRQn.8_1;
  long unsigned int _2;
  long unsigned int _3;
  struct NVIC_Type * _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_9(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  IRQn.8_1 = (unsigned char) IRQn_9(D);
  _2 = (long unsigned int) IRQn.8_1;
  _3 = _2 & 31;
  _4 = 3758153984B;
  _5 = (long unsigned int) IRQn_9(D);
  _6 = _5 >> 5;
  _7 = 1 << _3;
  _4->ICPR[_6] ={v} _7;
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       2
;;                3
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_9(D) >= 0)

(insn 12 7 13 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1777:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1777:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1777:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; IRQn.8_1 = (unsigned char) IRQn_9(D);

(insn 16 15 0 (set (reg:SI 113 [ IRQn.8_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:81 -1
     (nil))

;; _2 = (long unsigned int) IRQn.8_1;

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.8_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1779:81 -1
     (nil))

;; _3 = _2 & 31;

(insn 18 17 0 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:81 -1
     (nil))

;; _4 = 3758153984B;

(insn 19 18 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1779:9 -1
     (nil))

;; _5 = (long unsigned int) IRQn_9(D);

(insn 20 19 0 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:18 -1
     (nil))

;; _6 = _5 >> 5;

(insn 21 20 0 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:34 -1
     (nil))

;; _7 = 1 << _3;

(insn 22 21 23 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1779:45 -1
     (nil))

(insn 23 22 0 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:45 -1
     (nil))

;; _4->ICPR[_6] ={v} _7;

(insn 24 23 25 (set (reg:SI 126)
        (plus:SI (reg:SI 118 [ _6 ])
            (const_int 96 [0x60]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:43 -1
     (nil))

(insn 25 24 0 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 126)
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ICPR[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1779:43 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 26 25 27 29 (nil) [0 uses])

(note 27 26 0 NOTE_INSN_BASIC_BLOCK)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Edge 2->5 redirected to 6
Merging block 5 into block 4...
Merged blocks 4 and 5.
Merged 4 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, MODIFIED, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 120)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1776:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 121)
        (subreg:QI (reg:SI 120) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1776:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 121)) "../Drivers/CMSIS/Include/core_cm4.h":1776:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 124)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1777:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 124)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1777:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref:SI 28)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1777:6 273 {arm_cond_branch}
     (nil)
 -> 28)
;;  succ:       4 (FALLTHRU)
;;              6 ../Drivers/CMSIS/Include/core_cm4.h:1781:1

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (set (reg:SI 113 [ IRQn.8_1 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:81 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 114 [ _2 ])
        (reg:SI 113 [ IRQn.8_1 ])) "../Drivers/CMSIS/Include/core_cm4.h":1779:81 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:81 -1
     (nil))
(insn 19 18 20 4 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1779:9 -1
     (nil))
(insn 20 19 21 4 (set (reg:SI 117 [ _5 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:18 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 118 [ _6 ])
        (lshiftrt:SI (reg:SI 117 [ _5 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:34 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 125)
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":1779:45 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 125)
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:45 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 126)
        (plus:SI (reg:SI 118 [ _6 ])
            (const_int 96 [0x60]))) "../Drivers/CMSIS/Include/core_cm4.h":1779:43 -1
     (nil))
(insn 25 24 28 4 (set (mem/v:SI (plus:SI (mult:SI (reg:SI 126)
                    (const_int 4 [0x4]))
                (reg/f:SI 116 [ _4 ])) [1 _4->ICPR[_6]+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1779:43 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1781:1

;; basic block 6, loop depth 0, maybe hot
;;  prev block 4, next block 1, flags: (NEW, REACHABLE, RTL)
;;  pred:       4 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1781:1
;;              2 ../Drivers/CMSIS/Include/core_cm4.h:1781:1
(code_label 28 25 29 6 28 (nil) [1 uses])
(note 29 28 0 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_GetActive (__NVIC_GetActive, funcdef_no=114, decl_uid=6464, cgraph_uid=115, symbol_order=114)

uint32_t __NVIC_GetActive (IRQn_Type IRQn)
{
  uint32_t D.8014;
  struct NVIC_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  unsigned char IRQn.9_5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  uint32_t _9;
  uint32_t _11;
  uint32_t _13;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_10(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153984B;
  _2 = (long unsigned int) IRQn_10(D);
  _3 = _2 >> 5;
  _4 ={v} _1->IABR[_3];
  IRQn.9_5 = (unsigned char) IRQn_10(D);
  _6 = (long unsigned int) IRQn.9_5;
  _7 = _6 & 31;
  _8 = _4 >> _7;
  _13 = _8 & 1;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _11 = 0;
  // predicted unlikely by early return (on trees) predictor.
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _9 = PHI <_13(3), _11(4)>
<L2>:
  return _9;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (IRQn.9_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (IRQn_10(D) - 10 )
Partition 11 (_11 - 11 )
Partition 13 (_13 - 13 )
Partition 14 (_14(D) - 14 )


Coalescible Partition map 

Partition 0, base 0 (_9 - 9 11 13 )
Partition 1, base 1 (IRQn_10(D) - 10 )
Partition 4, base 2 (_14(D) - 14 )


Partition map 

Partition 0 (_9 - 9 )
Partition 1 (IRQn_10(D) - 10 )
Partition 2 (_11 - 11 )
Partition 3 (_13 - 13 )
Partition 4 (_14(D) - 14 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(10000, 0) _9 <-> _13
(10000, 0) _9 <-> _11

Partition map 

Partition 0 (_9 - 9 )
Partition 1 (IRQn_10(D) - 10 )
Partition 2 (_11 - 11 )
Partition 3 (_13 - 13 )
Partition 4 (_14(D) - 14 )

Coalesce list: (9)_9 & (13)_13 [map: 0, 3] : Success -> 0
Coalesce list: (9)_9 & (11)_11 [map: 0, 2] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (IRQn.9_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 11 13 )
Partition 9 (IRQn_10(D) - 10 )
Partition 10 (_14(D) - 14 )

uint32_t __NVIC_GetActive (IRQn_Type IRQn)
{
  uint32_t D.8014;
  struct NVIC_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  unsigned char IRQn.9_5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  uint32_t _9;
  uint32_t _11;
  uint32_t _13;
  uint32_t _14(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_10(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153984B;
  _2 = (long unsigned int) IRQn_10(D);
  _3 = _2 >> 5;
  _4 ={v} _1->IABR[_3];
  IRQn.9_5 = (unsigned char) IRQn_10(D);
  _6 = (long unsigned int) IRQn.9_5;
  _7 = _6 & 31;
  _8 = _4 >> _7;
  _13 = _8 & 1;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _11 = 0;
  // predicted unlikely by early return (on trees) predictor.
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _9 = PHI <_13(3), _11(4)>
<L2>:
  return _9;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_10(D) >= 0)

(insn 12 7 13 (set (reg:SI 127)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1794:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 127)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1794:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1794:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = 3758153984B;

(insn 16 15 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1796:29 -1
     (nil))

;; _2 = (long unsigned int) IRQn_10(D);

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:38 -1
     (nil))

;; _3 = _2 >> 5;

(insn 18 17 0 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 114 [ _2 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:54 -1
     (nil))

;; _4 ={v} _1->IABR[_3];

(insn 19 18 20 (set (reg:SI 128)
        (plus:SI (reg:SI 115 [ _3 ])
            (const_int 128 [0x80]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:35 -1
     (nil))

(insn 20 19 0 (set (reg:SI 116 [ _4 ])
        (mem/v:SI (plus:SI (mult:SI (reg:SI 128)
                    (const_int 4 [0x4]))
                (reg/f:SI 113 [ _1 ])) [1 _1->IABR[_3]+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1796:35 -1
     (nil))

;; IRQn.9_5 = (unsigned char) IRQn_10(D);

(insn 21 20 0 (set (reg:SI 117 [ IRQn.9_5 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:91 -1
     (nil))

;; _6 = (long unsigned int) IRQn.9_5;

(insn 22 21 0 (set (reg:SI 118 [ _6 ])
        (reg:SI 117 [ IRQn.9_5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1796:91 -1
     (nil))

;; _7 = _6 & 31;

(insn 23 22 0 (set (reg:SI 119 [ _7 ])
        (and:SI (reg:SI 118 [ _6 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:91 -1
     (nil))

;; _8 = _4 >> _7;

(insn 24 23 0 (set (reg:SI 120 [ _8 ])
        (lshiftrt:SI (reg:SI 116 [ _4 ])
            (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:103 -1
     (nil))

;; _13 = _8 & 1;

(insn 25 24 0 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (const_int 1 [0x1]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:12 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 4

;; 

(code_label 28 27 29 34 (nil) [0 uses])

(note 29 28 0 NOTE_INSN_BASIC_BLOCK)

;; _11 = 0;

(insn 30 29 0 (set (reg:SI 121 [ _9 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1800:11 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 5

;; <L2>:

(code_label 31 30 32 35 (nil) [0 uses])

(note 32 31 0 NOTE_INSN_BASIC_BLOCK)

;; return _9;

(insn 33 32 34 (set (reg:SI 122 [ <retval> ])
        (reg:SI 121 [ _9 ])) "../Drivers/CMSIS/Include/core_cm4.h":1802:1 -1
     (nil))

(jump_insn 34 33 35 (set (pc)
        (label_ref 0)) "../Drivers/CMSIS/Include/core_cm4.h":1802:1 -1
     (nil))

(barrier 35 34 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Removing jump 34.
Merging block 7 into block 6...
Merged blocks 6 and 7.
Merged 6 and 7 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 123)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1793:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 124)
        (subreg:QI (reg:SI 123) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1793:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 124)) "../Drivers/CMSIS/Include/core_cm4.h":1793:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 127)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1794:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 127)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1794:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 28)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1794:6 -1
     (nil)
 -> 28)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1796:29 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 114 [ _2 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:38 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 114 [ _2 ])
            (const_int 5 [0x5]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:54 -1
     (nil))
(insn 19 18 20 4 (set (reg:SI 128)
        (plus:SI (reg:SI 115 [ _3 ])
            (const_int 128 [0x80]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:35 -1
     (nil))
(insn 20 19 21 4 (set (reg:SI 116 [ _4 ])
        (mem/v:SI (plus:SI (mult:SI (reg:SI 128)
                    (const_int 4 [0x4]))
                (reg/f:SI 113 [ _1 ])) [1 _1->IABR[_3]+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1796:35 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 117 [ IRQn.9_5 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:91 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 118 [ _6 ])
        (reg:SI 117 [ IRQn.9_5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1796:91 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 119 [ _7 ])
        (and:SI (reg:SI 118 [ _6 ])
            (const_int 31 [0x1f]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:91 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 120 [ _8 ])
        (lshiftrt:SI (reg:SI 116 [ _4 ])
            (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:103 -1
     (nil))
(insn 25 24 26 4 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (const_int 1 [0x1]))) "../Drivers/CMSIS/Include/core_cm4.h":1796:12 -1
     (nil))
(jump_insn 26 25 27 4 (set (pc)
        (label_ref 31)) "../Drivers/CMSIS/Include/core_cm4.h":1796:12 -1
     (nil)
 -> 31)
;;  succ:       6 ../Drivers/CMSIS/Include/core_cm4.h:1796:12

(barrier 27 26 28)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 28 27 29 5 34 (nil) [1 uses])
(note 29 28 30 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 30 29 31 5 (set (reg:SI 121 [ _9 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1800:11 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1800:11

;; basic block 6, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       4 ../Drivers/CMSIS/Include/core_cm4.h:1796:12
;;              5 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1800:11
(code_label 31 30 32 6 35 (nil) [1 uses])
(note 32 31 33 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 33 32 37 6 (set (reg:SI 122 [ <retval> ])
        (reg:SI 121 [ _9 ])) "../Drivers/CMSIS/Include/core_cm4.h":1802:1 -1
     (nil))
(insn 37 33 38 6 (set (reg/i:SI 0 r0)
        (reg:SI 122 [ <retval> ])) "../Drivers/CMSIS/Include/core_cm4.h":1802:1 -1
     (nil))
(insn 38 37 0 6 (use (reg/i:SI 0 r0)) "../Drivers/CMSIS/Include/core_cm4.h":1802:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_SetPriority (__NVIC_SetPriority, funcdef_no=115, decl_uid=6468, cgraph_uid=116, symbol_order=115)

void __NVIC_SetPriority (IRQn_Type IRQn, uint32_t priority)
{
  unsigned char _1;
  struct NVIC_Type * _2;
  long unsigned int _3;
  unsigned char _4;
  unsigned char _5;
  struct SCB_Type * _6;
  unsigned char IRQn.1_7;
  long unsigned int _8;
  long unsigned int _9;
  long unsigned int _10;
  unsigned char _11;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_13(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = (unsigned char) priority_14(D);
  _2 = 3758153984B;
  _3 = (long unsigned int) IRQn_13(D);
  _4 = _1 << 4;
  _2->IP[_3] ={v} _4;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _5 = (unsigned char) priority_14(D);
  _6 = 3758157056B;
  IRQn.1_7 = (unsigned char) IRQn_13(D);
  _8 = (long unsigned int) IRQn.1_7;
  _9 = _8 & 15;
  _10 = _9 + 4294967292;
  _11 = _5 << 4;
  _6->SHP[_10] ={v} _11;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (IRQn.1_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (_10 - 10 )
Partition 11 (_11 - 11 )
Partition 13 (IRQn_13(D) - 13 )
Partition 14 (priority_14(D) - 14 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_13(D) - 13 )
Partition 1, base 1 (priority_14(D) - 14 )


Partition map 

Partition 0 (IRQn_13(D) - 13 )
Partition 1 (priority_14(D) - 14 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_13(D) - 13 )
Partition 1 (priority_14(D) - 14 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (IRQn.1_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 )
Partition 9 (_10 - 10 )
Partition 10 (_11 - 11 )
Partition 11 (IRQn_13(D) - 13 )
Partition 12 (priority_14(D) - 14 )

void __NVIC_SetPriority (IRQn_Type IRQn, uint32_t priority)
{
  unsigned char _1;
  struct NVIC_Type * _2;
  long unsigned int _3;
  unsigned char _4;
  unsigned char _5;
  struct SCB_Type * _6;
  unsigned char IRQn.1_7;
  long unsigned int _8;
  long unsigned int _9;
  long unsigned int _10;
  unsigned char _11;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_13(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = (unsigned char) priority_14(D);
  _2 = 3758153984B;
  _3 = (long unsigned int) IRQn_13(D);
  _4 = _1 << 4;
  _2->IP[_3] ={v} _4;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _5 = (unsigned char) priority_14(D);
  _6 = 3758157056B;
  IRQn.1_7 = (unsigned char) IRQn_13(D);
  _8 = (long unsigned int) IRQn.1_7;
  _9 = _8 & 15;
  _10 = _9 + 4294967292;
  _11 = _5 << 4;
  _6->SHP[_10] ={v} _11;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_13(D) >= 0)

(insn 13 8 14 (set (reg:SI 128)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1816:6 -1
     (nil))

(insn 14 13 15 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 128)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1816:6 -1
     (nil))

(jump_insn 15 14 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1816:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = (unsigned char) priority_14(D);

(insn 17 16 18 (set (reg:SI 129)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))

(insn 18 17 0 (set (reg:SI 113 [ _1 ])
        (zero_extend:SI (subreg:QI (reg:SI 129) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))

;; _2 = 3758153984B;

(insn 19 18 0 (set (reg/f:SI 114 [ _2 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1818:9 -1
     (nil))

;; _3 = (long unsigned int) IRQn_13(D);

(insn 20 19 0 (set (reg:SI 115 [ _3 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1818:15 -1
     (nil))

;; _4 = _1 << 4;

(insn 21 20 22 (set (reg:SI 130)
        (ashift:SI (reg:SI 113 [ _1 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))

(insn 22 21 0 (set (reg:SI 116 [ _4 ])
        (zero_extend:SI (subreg:QI (reg:SI 130) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))

;; _2->IP[_3] ={v} _4;

(insn 23 22 24 (set (reg/f:SI 131)
        (plus:SI (reg/f:SI 114 [ _2 ])
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1818:46 -1
     (nil))

(insn 24 23 25 (set (reg:QI 132)
        (subreg/s/v:QI (reg:SI 116 [ _4 ]) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1818:46 -1
     (nil))

(insn 25 24 0 (set (mem/v:QI (plus:SI (reg/f:SI 131)
                (const_int 768 [0x300])) [0 _2->IP[_3]+0 S1 A8])
        (reg:QI 132)) "../Drivers/CMSIS/Include/core_cm4.h":1818:46 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 28 27 29 39 (nil) [0 uses])

(note 29 28 0 NOTE_INSN_BASIC_BLOCK)

;; _5 = (unsigned char) priority_14(D);

(insn 30 29 31 (set (reg:SI 133)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))

(insn 31 30 0 (set (reg:SI 117 [ _5 ])
        (zero_extend:SI (subreg:QI (reg:SI 133) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))

;; _6 = 3758157056B;

(insn 32 31 0 (set (reg/f:SI 118 [ _6 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1822:8 -1
     (nil))

;; IRQn.1_7 = (unsigned char) IRQn_13(D);

(insn 33 32 0 (set (reg:SI 119 [ IRQn.1_7 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:32 -1
     (nil))

;; _8 = (long unsigned int) IRQn.1_7;

(insn 34 33 0 (set (reg:SI 120 [ _8 ])
        (reg:SI 119 [ IRQn.1_7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1822:32 -1
     (nil))

;; _9 = _8 & 15;

(insn 35 34 0 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (const_int 15 [0xf]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:32 -1
     (nil))

;; _10 = _9 + 4294967292;

(insn 36 35 0 (set (reg:SI 122 [ _10 ])
        (plus:SI (reg:SI 121 [ _9 ])
            (const_int -4 [0xfffffffffffffffc]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:40 -1
     (nil))

;; _11 = _5 << 4;

(insn 37 36 38 (set (reg:SI 134)
        (ashift:SI (reg:SI 117 [ _5 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))

(insn 38 37 0 (set (reg:SI 123 [ _11 ])
        (zero_extend:SI (subreg:QI (reg:SI 134) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))

;; _6->SHP[_10] ={v} _11;

(insn 39 38 40 (set (reg/f:SI 135)
        (plus:SI (reg/f:SI 118 [ _6 ])
            (reg:SI 122 [ _10 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:46 -1
     (nil))

(insn 40 39 41 (set (reg:QI 136)
        (subreg/s/v:QI (reg:SI 123 [ _11 ]) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1822:46 -1
     (nil))

(insn 41 40 0 (set (mem/v:QI (plus:SI (reg/f:SI 135)
                (const_int 24 [0x18])) [0 _6->SHP[_10]+0 S1 A8])
        (reg:QI 136)) "../Drivers/CMSIS/Include/core_cm4.h":1822:46 -1
     (nil))

;; Generating RTL for gimple basic block 5

;; 

(code_label 42 41 43 40 (nil) [0 uses])

(note 43 42 0 NOTE_INSN_BASIC_BLOCK)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Redirecting jump 26 from 6 to 7.
Merging block 6 into block 5...
Merged blocks 5 and 6.
Merged 5 and 6 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 7 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 7 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 7 5 2 (set (reg:SI 124)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1815:1 -1
     (nil))
(insn 5 2 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 priority+0 S4 A32])
        (reg:SI 1 r1 [ priority ])) "../Drivers/CMSIS/Include/core_cm4.h":1815:1 -1
     (nil))
(insn 3 5 4 2 (set (reg:QI 125)
        (subreg:QI (reg:SI 124) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1815:1 -1
     (nil))
(insn 4 3 6 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 125)) "../Drivers/CMSIS/Include/core_cm4.h":1815:1 -1
     (nil))
(note 6 4 13 2 NOTE_INSN_FUNCTION_BEG)
(insn 13 6 14 2 (set (reg:SI 128)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1816:6 -1
     (nil))
(insn 14 13 15 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 128)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1816:6 -1
     (nil))
(jump_insn 15 14 16 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 28)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1816:6 -1
     (nil)
 -> 28)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, MODIFIED, VISITED)
;;  pred:       2 (FALLTHRU)
(note 16 15 17 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 17 16 18 4 (set (reg:SI 129)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))
(insn 18 17 19 4 (set (reg:SI 113 [ _1 ])
        (zero_extend:SI (subreg:QI (reg:SI 129) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))
(insn 19 18 20 4 (set (reg/f:SI 114 [ _2 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1818:9 -1
     (nil))
(insn 20 19 21 4 (set (reg:SI 115 [ _3 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1818:15 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 130)
        (ashift:SI (reg:SI 113 [ _1 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 116 [ _4 ])
        (zero_extend:SI (subreg:QI (reg:SI 130) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1818:48 -1
     (nil))
(insn 23 22 24 4 (set (reg/f:SI 131)
        (plus:SI (reg/f:SI 114 [ _2 ])
            (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1818:46 -1
     (nil))
(insn 24 23 25 4 (set (reg:QI 132)
        (subreg/s/v:QI (reg:SI 116 [ _4 ]) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1818:46 -1
     (nil))
(insn 25 24 26 4 (set (mem/v:QI (plus:SI (reg/f:SI 131)
                (const_int 768 [0x300])) [0 _2->IP[_3]+0 S1 A8])
        (reg:QI 132)) "../Drivers/CMSIS/Include/core_cm4.h":1818:46 -1
     (nil))
(jump_insn 26 25 27 4 (set (pc)
        (label_ref:SI 44)) 284 {*arm_jump}
     (nil)
 -> 44)
;;  succ:       7 [always]  ../Drivers/CMSIS/Include/core_cm4.h:1824:1

(barrier 27 26 28)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 7, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 28 27 29 5 39 (nil) [1 uses])
(note 29 28 30 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 30 29 31 5 (set (reg:SI 133)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))
(insn 31 30 32 5 (set (reg:SI 117 [ _5 ])
        (zero_extend:SI (subreg:QI (reg:SI 133) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))
(insn 32 31 33 5 (set (reg/f:SI 118 [ _6 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1822:8 -1
     (nil))
(insn 33 32 34 5 (set (reg:SI 119 [ IRQn.1_7 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:32 -1
     (nil))
(insn 34 33 35 5 (set (reg:SI 120 [ _8 ])
        (reg:SI 119 [ IRQn.1_7 ])) "../Drivers/CMSIS/Include/core_cm4.h":1822:32 -1
     (nil))
(insn 35 34 36 5 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (const_int 15 [0xf]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:32 -1
     (nil))
(insn 36 35 37 5 (set (reg:SI 122 [ _10 ])
        (plus:SI (reg:SI 121 [ _9 ])
            (const_int -4 [0xfffffffffffffffc]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:40 -1
     (nil))
(insn 37 36 38 5 (set (reg:SI 134)
        (ashift:SI (reg:SI 117 [ _5 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))
(insn 38 37 39 5 (set (reg:SI 123 [ _11 ])
        (zero_extend:SI (subreg:QI (reg:SI 134) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1822:48 -1
     (nil))
(insn 39 38 40 5 (set (reg/f:SI 135)
        (plus:SI (reg/f:SI 118 [ _6 ])
            (reg:SI 122 [ _10 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1822:46 -1
     (nil))
(insn 40 39 41 5 (set (reg:QI 136)
        (subreg/s/v:QI (reg:SI 123 [ _11 ]) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1822:46 -1
     (nil))
(insn 41 40 44 5 (set (mem/v:QI (plus:SI (reg/f:SI 135)
                (const_int 24 [0x18])) [0 _6->SHP[_10]+0 S1 A8])
        (reg:QI 136)) "../Drivers/CMSIS/Include/core_cm4.h":1822:46 -1
     (nil))
;;  succ:       7 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1824:1

;; basic block 7, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL)
;;  pred:       5 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1824:1
;;              4 [always]  ../Drivers/CMSIS/Include/core_cm4.h:1824:1
(code_label 44 41 45 7 38 (nil) [1 uses])
(note 45 44 0 7 [bb 7] NOTE_INSN_BASIC_BLOCK)
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function __NVIC_GetPriority (__NVIC_GetPriority, funcdef_no=116, decl_uid=6471, cgraph_uid=117, symbol_order=116)

uint32_t __NVIC_GetPriority (IRQn_Type IRQn)
{
  uint32_t D.7994;
  struct NVIC_Type * _1;
  long unsigned int _2;
  unsigned char _3;
  unsigned char _4;
  struct SCB_Type * _5;
  unsigned char IRQn.4_6;
  long unsigned int _7;
  long unsigned int _8;
  long unsigned int _9;
  unsigned char _10;
  unsigned char _11;
  uint32_t _12;
  uint32_t _15;
  uint32_t _16;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_13(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153984B;
  _2 = (long unsigned int) IRQn_13(D);
  _3 ={v} _1->IP[_2];
  _4 = _3 >> 4;
  _16 = (uint32_t) _4;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _5 = 3758157056B;
  IRQn.4_6 = (unsigned char) IRQn_13(D);
  _7 = (long unsigned int) IRQn.4_6;
  _8 = _7 & 15;
  _9 = _8 + 4294967292;
  _10 ={v} _5->SHP[_9];
  _11 = _10 >> 4;
  _15 = (uint32_t) _11;
  // predicted unlikely by early return (on trees) predictor.
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _12 = PHI <_16(3), _15(4)>
<L2>:
  return _12;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (IRQn.4_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (_10 - 10 )
Partition 11 (_11 - 11 )
Partition 12 (_12 - 12 )
Partition 13 (IRQn_13(D) - 13 )
Partition 15 (_15 - 15 )
Partition 16 (_16 - 16 )
Partition 17 (_17(D) - 17 )


Coalescible Partition map 

Partition 0, base 0 (_12 - 12 15 16 )
Partition 1, base 1 (IRQn_13(D) - 13 )
Partition 4, base 2 (_17(D) - 17 )


Partition map 

Partition 0 (_12 - 12 )
Partition 1 (IRQn_13(D) - 13 )
Partition 2 (_15 - 15 )
Partition 3 (_16 - 16 )
Partition 4 (_17(D) - 17 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(10000, 0) _12 <-> _16
(10000, 0) _12 <-> _15

Partition map 

Partition 0 (_12 - 12 )
Partition 1 (IRQn_13(D) - 13 )
Partition 2 (_15 - 15 )
Partition 3 (_16 - 16 )
Partition 4 (_17(D) - 17 )

Coalesce list: (12)_12 & (16)_16 [map: 0, 3] : Success -> 0
Coalesce list: (12)_12 & (15)_15 [map: 0, 2] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (IRQn.4_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 )
Partition 9 (_10 - 10 )
Partition 10 (_11 - 11 )
Partition 11 (_12 - 12 15 16 )
Partition 12 (IRQn_13(D) - 13 )
Partition 13 (_17(D) - 17 )

uint32_t __NVIC_GetPriority (IRQn_Type IRQn)
{
  uint32_t D.7994;
  struct NVIC_Type * _1;
  long unsigned int _2;
  unsigned char _3;
  unsigned char _4;
  struct SCB_Type * _5;
  unsigned char IRQn.4_6;
  long unsigned int _7;
  long unsigned int _8;
  long unsigned int _9;
  unsigned char _10;
  unsigned char _11;
  uint32_t _12;
  uint32_t _15;
  uint32_t _16;
  uint32_t _17(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (IRQn_13(D) >= 0)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153984B;
  _2 = (long unsigned int) IRQn_13(D);
  _3 ={v} _1->IP[_2];
  _4 = _3 >> 4;
  _16 = (uint32_t) _4;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _5 = 3758157056B;
  IRQn.4_6 = (unsigned char) IRQn_13(D);
  _7 = (long unsigned int) IRQn.4_6;
  _8 = _7 & 15;
  _9 = _8 + 4294967292;
  _10 ={v} _5->SHP[_9];
  _11 = _10 >> 4;
  _15 = (uint32_t) _11;
  // predicted unlikely by early return (on trees) predictor.
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _12 = PHI <_16(3), _15(4)>
<L2>:
  return _12;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (IRQn_13(D) >= 0)

(insn 12 7 13 (set (reg:SI 130)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1839:6 -1
     (nil))

(insn 13 12 14 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 130)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1839:6 -1
     (nil))

(jump_insn 14 13 0 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1839:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = 3758153984B;

(insn 16 15 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1841:27 -1
     (nil))

;; _2 = (long unsigned int) IRQn_13(D);

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1841:33 -1
     (nil))

;; _3 ={v} _1->IP[_2];

(insn 18 17 20 (set (reg/f:SI 131)
        (plus:SI (reg/f:SI 113 [ _1 ])
            (reg:SI 114 [ _2 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1841:31 -1
     (nil))

(insn 20 18 21 (set (reg:QI 133)
        (mem/v:QI (plus:SI (reg/f:SI 131)
                (const_int 768 [0x300])) [0 _1->IP[_2]+0 S1 A8])) "../Drivers/CMSIS/Include/core_cm4.h":1841:31 -1
     (nil))

(insn 21 20 0 (set (reg:SI 115 [ _3 ])
        (zero_extend:SI (reg:QI 133))) "../Drivers/CMSIS/Include/core_cm4.h":1841:31 -1
     (nil))

;; _4 = _3 >> 4;

(insn 22 21 23 (set (reg:SI 134)
        (lshiftrt:SI (reg:SI 115 [ _3 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil))

(insn 23 22 0 (set (reg:SI 116 [ _4 ])
        (zero_extend:SI (subreg:QI (reg:SI 134) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil))

;; _16 = (uint32_t) _4;

(insn 24 23 0 (set (reg:SI 124 [ _12 ])
        (reg:SI 116 [ _4 ])) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 4

;; 

(code_label 27 26 28 45 (nil) [0 uses])

(note 28 27 0 NOTE_INSN_BASIC_BLOCK)

;; _5 = 3758157056B;

(insn 29 28 0 (set (reg/f:SI 117 [ _5 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1845:26 -1
     (nil))

;; IRQn.4_6 = (unsigned char) IRQn_13(D);

(insn 30 29 0 (set (reg:SI 118 [ IRQn.4_6 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:50 -1
     (nil))

;; _7 = (long unsigned int) IRQn.4_6;

(insn 31 30 0 (set (reg:SI 119 [ _7 ])
        (reg:SI 118 [ IRQn.4_6 ])) "../Drivers/CMSIS/Include/core_cm4.h":1845:50 -1
     (nil))

;; _8 = _7 & 15;

(insn 32 31 0 (set (reg:SI 120 [ _8 ])
        (and:SI (reg:SI 119 [ _7 ])
            (const_int 15 [0xf]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:50 -1
     (nil))

;; _9 = _8 + 4294967292;

(insn 33 32 0 (set (reg:SI 121 [ _9 ])
        (plus:SI (reg:SI 120 [ _8 ])
            (const_int -4 [0xfffffffffffffffc]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:58 -1
     (nil))

;; _10 ={v} _5->SHP[_9];

(insn 34 33 36 (set (reg/f:SI 135)
        (plus:SI (reg/f:SI 117 [ _5 ])
            (reg:SI 121 [ _9 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:31 -1
     (nil))

(insn 36 34 37 (set (reg:QI 137)
        (mem/v:QI (plus:SI (reg/f:SI 135)
                (const_int 24 [0x18])) [0 _5->SHP[_9]+0 S1 A8])) "../Drivers/CMSIS/Include/core_cm4.h":1845:31 -1
     (nil))

(insn 37 36 0 (set (reg:SI 122 [ _10 ])
        (zero_extend:SI (reg:QI 137))) "../Drivers/CMSIS/Include/core_cm4.h":1845:31 -1
     (nil))

;; _11 = _10 >> 4;

(insn 38 37 39 (set (reg:SI 138)
        (lshiftrt:SI (reg:SI 122 [ _10 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:64 -1
     (nil))

(insn 39 38 0 (set (reg:SI 123 [ _11 ])
        (zero_extend:SI (subreg:QI (reg:SI 138) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1845:64 -1
     (nil))

;; _15 = (uint32_t) _11;

(insn 40 39 0 (set (reg:SI 124 [ _12 ])
        (reg:SI 123 [ _11 ])) "../Drivers/CMSIS/Include/core_cm4.h":1845:64 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 5

;; <L2>:

(code_label 41 40 42 46 (nil) [0 uses])

(note 42 41 0 NOTE_INSN_BASIC_BLOCK)

;; return _12;

(insn 43 42 44 (set (reg:SI 125 [ <retval> ])
        (reg:SI 124 [ _12 ])) "../Drivers/CMSIS/Include/core_cm4.h":1847:1 -1
     (nil))

(jump_insn 44 43 45 (set (pc)
        (label_ref 0)) "../Drivers/CMSIS/Include/core_cm4.h":1847:1 -1
     (nil))

(barrier 45 44 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Removing jump 44.
Merging block 7 into block 6...
Merged blocks 6 and 7.
Merged 6 and 7 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 126)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/CMSIS/Include/core_cm4.h":1837:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 127)
        (subreg:QI (reg:SI 126) 0)) "../Drivers/CMSIS/Include/core_cm4.h":1837:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 127)) "../Drivers/CMSIS/Include/core_cm4.h":1837:1 -1
     (nil))
(note 5 4 12 2 NOTE_INSN_FUNCTION_BEG)
(insn 12 5 13 2 (set (reg:SI 130)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1839:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 130)
            (const_int 0 [0]))) "../Drivers/CMSIS/Include/core_cm4.h":1839:6 -1
     (nil))
(jump_insn 14 13 15 2 (set (pc)
        (if_then_else (lt (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 27)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1839:6 -1
     (nil)
 -> 27)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 15 14 16 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 16 15 17 4 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813312 [0xffffffffe000e100])) "../Drivers/CMSIS/Include/core_cm4.h":1841:27 -1
     (nil))
(insn 17 16 18 4 (set (reg:SI 114 [ _2 ])
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1841:33 -1
     (nil))
(insn 18 17 20 4 (set (reg/f:SI 131)
        (plus:SI (reg/f:SI 113 [ _1 ])
            (reg:SI 114 [ _2 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1841:31 -1
     (nil))
(insn 20 18 21 4 (set (reg:QI 133)
        (mem/v:QI (plus:SI (reg/f:SI 131)
                (const_int 768 [0x300])) [0 _1->IP[_2]+0 S1 A8])) "../Drivers/CMSIS/Include/core_cm4.h":1841:31 -1
     (nil))
(insn 21 20 22 4 (set (reg:SI 115 [ _3 ])
        (zero_extend:SI (reg:QI 133))) "../Drivers/CMSIS/Include/core_cm4.h":1841:31 -1
     (nil))
(insn 22 21 23 4 (set (reg:SI 134)
        (lshiftrt:SI (reg:SI 115 [ _3 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 116 [ _4 ])
        (zero_extend:SI (subreg:QI (reg:SI 134) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 124 [ _12 ])
        (reg:SI 116 [ _4 ])) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil))
(jump_insn 25 24 26 4 (set (pc)
        (label_ref 41)) "../Drivers/CMSIS/Include/core_cm4.h":1841:64 -1
     (nil)
 -> 41)
;;  succ:       6 ../Drivers/CMSIS/Include/core_cm4.h:1841:64

(barrier 26 25 27)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 27 26 28 5 45 (nil) [1 uses])
(note 28 27 29 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 29 28 30 5 (set (reg/f:SI 117 [ _5 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1845:26 -1
     (nil))
(insn 30 29 31 5 (set (reg:SI 118 [ IRQn.4_6 ])
        (zero_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:50 -1
     (nil))
(insn 31 30 32 5 (set (reg:SI 119 [ _7 ])
        (reg:SI 118 [ IRQn.4_6 ])) "../Drivers/CMSIS/Include/core_cm4.h":1845:50 -1
     (nil))
(insn 32 31 33 5 (set (reg:SI 120 [ _8 ])
        (and:SI (reg:SI 119 [ _7 ])
            (const_int 15 [0xf]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:50 -1
     (nil))
(insn 33 32 34 5 (set (reg:SI 121 [ _9 ])
        (plus:SI (reg:SI 120 [ _8 ])
            (const_int -4 [0xfffffffffffffffc]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:58 -1
     (nil))
(insn 34 33 36 5 (set (reg/f:SI 135)
        (plus:SI (reg/f:SI 117 [ _5 ])
            (reg:SI 121 [ _9 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:31 -1
     (nil))
(insn 36 34 37 5 (set (reg:QI 137)
        (mem/v:QI (plus:SI (reg/f:SI 135)
                (const_int 24 [0x18])) [0 _5->SHP[_9]+0 S1 A8])) "../Drivers/CMSIS/Include/core_cm4.h":1845:31 -1
     (nil))
(insn 37 36 38 5 (set (reg:SI 122 [ _10 ])
        (zero_extend:SI (reg:QI 137))) "../Drivers/CMSIS/Include/core_cm4.h":1845:31 -1
     (nil))
(insn 38 37 39 5 (set (reg:SI 138)
        (lshiftrt:SI (reg:SI 122 [ _10 ])
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1845:64 -1
     (nil))
(insn 39 38 40 5 (set (reg:SI 123 [ _11 ])
        (zero_extend:SI (subreg:QI (reg:SI 138) 0))) "../Drivers/CMSIS/Include/core_cm4.h":1845:64 -1
     (nil))
(insn 40 39 41 5 (set (reg:SI 124 [ _12 ])
        (reg:SI 123 [ _11 ])) "../Drivers/CMSIS/Include/core_cm4.h":1845:64 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1845:64

;; basic block 6, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       4 ../Drivers/CMSIS/Include/core_cm4.h:1841:64
;;              5 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1845:64
(code_label 41 40 42 6 46 (nil) [1 uses])
(note 42 41 43 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 43 42 47 6 (set (reg:SI 125 [ <retval> ])
        (reg:SI 124 [ _12 ])) "../Drivers/CMSIS/Include/core_cm4.h":1847:1 -1
     (nil))
(insn 47 43 48 6 (set (reg/i:SI 0 r0)
        (reg:SI 125 [ <retval> ])) "../Drivers/CMSIS/Include/core_cm4.h":1847:1 -1
     (nil))
(insn 48 47 0 6 (use (reg/i:SI 0 r0)) "../Drivers/CMSIS/Include/core_cm4.h":1847:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function NVIC_EncodePriority (NVIC_EncodePriority, funcdef_no=117, decl_uid=6476, cgraph_uid=118, symbol_order=117)

uint32_t NVIC_EncodePriority (uint32_t PriorityGroup, uint32_t PreemptPriority, uint32_t SubPriority)
{
  uint32_t SubPriorityBits;
  uint32_t PreemptPriorityBits;
  uint32_t PriorityGroupTmp;
  uint32_t D.7975;
  long unsigned int iftmp.0;
  long unsigned int _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  long unsigned int _9;
  long unsigned int iftmp.0_10;
  long unsigned int iftmp.0_14;
  long unsigned int iftmp.0_15;
  uint32_t _19;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  PriorityGroupTmp_12 = PriorityGroup_11(D) & 7;
  _1 = 7 - PriorityGroupTmp_12;
  PreemptPriorityBits_13 = MIN_EXPR <_1, 4>;
  _2 = PriorityGroupTmp_12 + 4;
  if (_2 > 6)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  iftmp.0_15 = PriorityGroupTmp_12 + 4294967293;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  iftmp.0_14 = 0;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # iftmp.0_10 = PHI <iftmp.0_15(3), iftmp.0_14(4)>
  SubPriorityBits_16 = iftmp.0_10;
  _3 = 4294967295 << PreemptPriorityBits_13;
  _4 = ~_3;
  _5 = PreemptPriority_17(D) & _4;
  _6 = _5 << SubPriorityBits_16;
  _7 = 4294967295 << SubPriorityBits_16;
  _8 = ~_7;
  _9 = SubPriority_18(D) & _8;
  _19 = _6 | _9;
;;    succ:       6

;;   basic block 6, loop depth 0
;;    pred:       5
<L3>:
  return _19;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (iftmp.0_10 - 10 )
Partition 11 (PriorityGroup_11(D) - 11 )
Partition 12 (PriorityGroupTmp_12 - 12 )
Partition 13 (PreemptPriorityBits_13 - 13 )
Partition 14 (iftmp.0_14 - 14 )
Partition 15 (iftmp.0_15 - 15 )
Partition 16 (SubPriorityBits_16 - 16 )
Partition 17 (PreemptPriority_17(D) - 17 )
Partition 18 (SubPriority_18(D) - 18 )
Partition 19 (_19 - 19 )
Partition 21 (_21(D) - 21 )


Coalescible Partition map 

Partition 0, base 0 (iftmp.0_10 - 10 14 15 )
Partition 1, base 1 (PriorityGroup_11(D) - 11 )
Partition 4, base 2 (PreemptPriority_17(D) - 17 )
Partition 5, base 3 (SubPriority_18(D) - 18 )
Partition 6, base 4 (_21(D) - 21 )


Partition map 

Partition 0 (iftmp.0_10 - 10 )
Partition 1 (PriorityGroup_11(D) - 11 )
Partition 2 (iftmp.0_14 - 14 )
Partition 3 (iftmp.0_15 - 15 )
Partition 4 (PreemptPriority_17(D) - 17 )
Partition 5 (SubPriority_18(D) - 18 )
Partition 6 (_21(D) - 21 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(10000, 0) iftmp.0_10 <-> iftmp.0_15
(10000, 0) iftmp.0_10 <-> iftmp.0_14

Partition map 

Partition 0 (iftmp.0_10 - 10 )
Partition 1 (PriorityGroup_11(D) - 11 )
Partition 2 (iftmp.0_14 - 14 )
Partition 3 (iftmp.0_15 - 15 )
Partition 4 (PreemptPriority_17(D) - 17 )
Partition 5 (SubPriority_18(D) - 18 )
Partition 6 (_21(D) - 21 )

Coalesce list: (10)iftmp.0_10 & (15)iftmp.0_15 [map: 0, 3] : Success -> 0
Coalesce list: (10)iftmp.0_10 & (14)iftmp.0_14 [map: 0, 2] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 )
Partition 9 (iftmp.0_10 - 10 14 15 )
Partition 10 (PriorityGroup_11(D) - 11 )
Partition 11 (PriorityGroupTmp_12 - 12 )
Partition 12 (PreemptPriorityBits_13 - 13 )
Partition 13 (SubPriorityBits_16 - 16 )
Partition 14 (PreemptPriority_17(D) - 17 )
Partition 15 (SubPriority_18(D) - 18 )
Partition 16 (_19 - 19 )
Partition 17 (_21(D) - 21 )

uint32_t NVIC_EncodePriority (uint32_t PriorityGroup, uint32_t PreemptPriority, uint32_t SubPriority)
{
  uint32_t SubPriorityBits;
  uint32_t PreemptPriorityBits;
  uint32_t PriorityGroupTmp;
  uint32_t D.7975;
  long unsigned int iftmp.0;
  long unsigned int _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  long unsigned int _9;
  long unsigned int iftmp.0_10;
  long unsigned int iftmp.0_14;
  long unsigned int iftmp.0_15;
  uint32_t _19;
  uint32_t _21(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  PriorityGroupTmp_12 = PriorityGroup_11(D) & 7;
  _1 = 7 - PriorityGroupTmp_12;
  PreemptPriorityBits_13 = MIN_EXPR <_1, 4>;
  _2 = PriorityGroupTmp_12 + 4;
  if (_2 > 6)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  iftmp.0_15 = PriorityGroupTmp_12 + 4294967293;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  iftmp.0_14 = 0;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # iftmp.0_10 = PHI <iftmp.0_15(3), iftmp.0_14(4)>
  SubPriorityBits_16 = iftmp.0_10;
  _3 = 4294967295 << PreemptPriorityBits_13;
  _4 = ~_3;
  _5 = PreemptPriority_17(D) & _4;
  _6 = _5 << SubPriorityBits_16;
  _7 = 4294967295 << SubPriorityBits_16;
  _8 = ~_7;
  _9 = SubPriority_18(D) & _8;
  _19 = _6 | _9;
;;    succ:       6

;;   basic block 6, loop depth 0
;;    pred:       5
<L3>:
  return _19;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; PriorityGroupTmp_12 = PriorityGroup_11(D) & 7;

(insn 8 7 9 (set (reg:SI 126)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 PriorityGroup+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1863:12 -1
     (nil))

(insn 9 8 10 (set (reg:SI 125)
        (and:SI (reg:SI 126)
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1863:12 -1
     (nil))

(insn 10 9 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])
        (reg:SI 125)) "../Drivers/CMSIS/Include/core_cm4.h":1863:12 -1
     (nil))

;; _1 = 7 - PriorityGroupTmp_12;

(insn 11 10 12 (set (reg:SI 127)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1867:31 -1
     (nil))

(insn 12 11 0 (set (reg:SI 113 [ _1 ])
        (minus:SI (const_int 7 [0x7])
            (reg:SI 127))) "../Drivers/CMSIS/Include/core_cm4.h":1867:31 -1
     (nil))

;; PreemptPriorityBits_13 = MIN_EXPR <_1, 4>;

(insn 13 12 14 (parallel [
            (set (reg:SI 128)
                (umin:SI (reg:SI 113 [ _1 ])
                    (const_int 4 [0x4])))
            (clobber (reg:CC 100 cc))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1867:23 -1
     (nil))

(insn 14 13 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])
        (reg:SI 128)) "../Drivers/CMSIS/Include/core_cm4.h":1867:23 -1
     (nil))

;; _2 = PriorityGroupTmp_12 + 4;

(insn 15 14 16 (set (reg:SI 129)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1868:44 -1
     (nil))

(insn 16 15 0 (set (reg:SI 114 [ _2 ])
        (plus:SI (reg:SI 129)
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1868:44 -1
     (nil))

;; if (_2 > 6)

(insn 19 16 20 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 114 [ _2 ])
            (const_int 6 [0x6]))) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))

(jump_insn 20 19 0 (set (pc)
        (if_then_else (leu (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; iftmp.0_15 = PriorityGroupTmp_12 + 4294967293;

(insn 22 21 23 (set (reg:SI 130)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))

(insn 23 22 0 (set (reg:SI 122 [ iftmp.0_10 ])
        (plus:SI (reg:SI 130)
            (const_int -3 [0xfffffffffffffffd]))) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 26 25 27 50 (nil) [0 uses])

(note 27 26 0 NOTE_INSN_BASIC_BLOCK)

;; iftmp.0_14 = 0;

(insn 28 27 0 (set (reg:SI 122 [ iftmp.0_10 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))

;; Generating RTL for gimple basic block 5

;; 

(code_label 29 28 30 51 (nil) [0 uses])

(note 30 29 0 NOTE_INSN_BASIC_BLOCK)

;; SubPriorityBits_16 = iftmp.0_10;

(insn 31 30 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])
        (reg:SI 122 [ iftmp.0_10 ])) "../Drivers/CMSIS/Include/core_cm4.h":1868:23 -1
     (nil))

;; _3 = 4294967295 << PreemptPriorityBits_13;

(insn 32 31 33 (set (reg:SI 131)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))

(insn 33 32 34 (set (reg:SI 132)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))

(insn 34 33 0 (set (reg:SI 115 [ _3 ])
        (ashift:SI (reg:SI 131)
            (reg:SI 132))) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))

;; _4 = ~_3;

(insn 35 34 0 (set (reg:SI 116 [ _4 ])
        (not:SI (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))

;; _5 = PreemptPriority_17(D) & _4;

(insn 36 35 37 (set (reg:SI 133)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -24 [0xffffffffffffffe8])) [1 PreemptPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))

(insn 37 36 0 (set (reg:SI 117 [ _5 ])
        (and:SI (reg:SI 116 [ _4 ])
            (reg:SI 133))) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))

;; _6 = _5 << SubPriorityBits_16;

(insn 38 37 39 (set (reg:SI 134)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1871:82 -1
     (nil))

(insn 39 38 0 (set (reg:SI 118 [ _6 ])
        (ashift:SI (reg:SI 117 [ _5 ])
            (reg:SI 134))) "../Drivers/CMSIS/Include/core_cm4.h":1871:82 -1
     (nil))

;; _7 = 4294967295 << SubPriorityBits_16;

(insn 40 39 41 (set (reg:SI 135)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))

(insn 41 40 42 (set (reg:SI 136)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))

(insn 42 41 0 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 135)
            (reg:SI 136))) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))

;; _8 = ~_7;

(insn 43 42 0 (set (reg:SI 120 [ _8 ])
        (not:SI (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))

;; _9 = SubPriority_18(D) & _8;

(insn 44 43 45 (set (reg:SI 137)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -28 [0xffffffffffffffe4])) [1 SubPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))

(insn 45 44 0 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (reg:SI 137))) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))

;; _19 = _6 | _9;

(insn 46 45 0 (set (reg:SI 123 [ _19 ])
        (ior:SI (reg:SI 118 [ _6 ])
            (reg:SI 121 [ _9 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1871:102 -1
     (nil))

;; Generating RTL for gimple basic block 6

;; <L3>:

(code_label 47 46 48 52 (nil) [0 uses])

(note 48 47 0 NOTE_INSN_BASIC_BLOCK)

;; return _19;

(insn 49 48 50 (set (reg:SI 124 [ <retval> ])
        (reg:SI 123 [ _19 ])) "../Drivers/CMSIS/Include/core_cm4.h":1871:102 -1
     (nil))

(jump_insn 50 49 51 (set (pc)
        (label_ref 0)) "../Drivers/CMSIS/Include/core_cm4.h":1871:102 -1
     (nil))

(barrier 51 50 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 7 into block 6...
Merged blocks 6 and 7.
Merged 6 and 7 without moving.
Removing jump 50.
Merging block 8 into block 6...
Merged blocks 6 and 8.
Merged 6 and 8 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 PriorityGroup+0 S4 A32])
        (reg:SI 0 r0 [ PriorityGroup ])) "../Drivers/CMSIS/Include/core_cm4.h":1862:1 -1
     (nil))
(insn 3 2 4 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -24 [0xffffffffffffffe8])) [1 PreemptPriority+0 S4 A32])
        (reg:SI 1 r1 [ PreemptPriority ])) "../Drivers/CMSIS/Include/core_cm4.h":1862:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -28 [0xffffffffffffffe4])) [1 SubPriority+0 S4 A32])
        (reg:SI 2 r2 [ SubPriority ])) "../Drivers/CMSIS/Include/core_cm4.h":1862:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 126)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 PriorityGroup+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1863:12 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 125)
        (and:SI (reg:SI 126)
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1863:12 -1
     (nil))
(insn 10 9 11 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])
        (reg:SI 125)) "../Drivers/CMSIS/Include/core_cm4.h":1863:12 -1
     (nil))
(insn 11 10 12 2 (set (reg:SI 127)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1867:31 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 113 [ _1 ])
        (minus:SI (const_int 7 [0x7])
            (reg:SI 127))) "../Drivers/CMSIS/Include/core_cm4.h":1867:31 -1
     (nil))
(insn 13 12 14 2 (parallel [
            (set (reg:SI 128)
                (umin:SI (reg:SI 113 [ _1 ])
                    (const_int 4 [0x4])))
            (clobber (reg:CC 100 cc))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1867:23 -1
     (nil))
(insn 14 13 15 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])
        (reg:SI 128)) "../Drivers/CMSIS/Include/core_cm4.h":1867:23 -1
     (nil))
(insn 15 14 16 2 (set (reg:SI 129)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1868:44 -1
     (nil))
(insn 16 15 19 2 (set (reg:SI 114 [ _2 ])
        (plus:SI (reg:SI 129)
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1868:44 -1
     (nil))
(insn 19 16 20 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 114 [ _2 ])
            (const_int 6 [0x6]))) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))
(jump_insn 20 19 21 2 (set (pc)
        (if_then_else (leu (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 26)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil)
 -> 26)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 21 20 22 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 22 21 23 4 (set (reg:SI 130)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))
(insn 23 22 24 4 (set (reg:SI 122 [ iftmp.0_10 ])
        (plus:SI (reg:SI 130)
            (const_int -3 [0xfffffffffffffffd]))) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))
(jump_insn 24 23 25 4 (set (pc)
        (label_ref 29)) -1
     (nil)
 -> 29)
;;  succ:       6

(barrier 25 24 26)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 26 25 27 5 50 (nil) [1 uses])
(note 27 26 28 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 28 27 29 5 (set (reg:SI 122 [ iftmp.0_10 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1868:109 -1
     (nil))
;;  succ:       6 (FALLTHRU)

;; basic block 6, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       4
;;              5 (FALLTHRU)
(code_label 29 28 30 6 51 (nil) [1 uses])
(note 30 29 31 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 31 30 32 6 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])
        (reg:SI 122 [ iftmp.0_10 ])) "../Drivers/CMSIS/Include/core_cm4.h":1868:23 -1
     (nil))
(insn 32 31 33 6 (set (reg:SI 131)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))
(insn 33 32 34 6 (set (reg:SI 132)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))
(insn 34 33 35 6 (set (reg:SI 115 [ _3 ])
        (ashift:SI (reg:SI 131)
            (reg:SI 132))) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))
(insn 35 34 36 6 (set (reg:SI 116 [ _4 ])
        (not:SI (reg:SI 115 [ _3 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))
(insn 36 35 37 6 (set (reg:SI 133)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -24 [0xffffffffffffffe8])) [1 PreemptPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))
(insn 37 36 38 6 (set (reg:SI 117 [ _5 ])
        (and:SI (reg:SI 116 [ _4 ])
            (reg:SI 133))) "../Drivers/CMSIS/Include/core_cm4.h":1871:30 -1
     (nil))
(insn 38 37 39 6 (set (reg:SI 134)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1871:82 -1
     (nil))
(insn 39 38 40 6 (set (reg:SI 118 [ _6 ])
        (ashift:SI (reg:SI 117 [ _5 ])
            (reg:SI 134))) "../Drivers/CMSIS/Include/core_cm4.h":1871:82 -1
     (nil))
(insn 40 39 41 6 (set (reg:SI 135)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))
(insn 41 40 42 6 (set (reg:SI 136)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))
(insn 42 41 43 6 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 135)
            (reg:SI 136))) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))
(insn 43 42 44 6 (set (reg:SI 120 [ _8 ])
        (not:SI (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))
(insn 44 43 45 6 (set (reg:SI 137)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -28 [0xffffffffffffffe4])) [1 SubPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))
(insn 45 44 46 6 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (reg:SI 137))) "../Drivers/CMSIS/Include/core_cm4.h":1872:30 -1
     (nil))
(insn 46 45 49 6 (set (reg:SI 123 [ _19 ])
        (ior:SI (reg:SI 118 [ _6 ])
            (reg:SI 121 [ _9 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1871:102 -1
     (nil))
(insn 49 46 53 6 (set (reg:SI 124 [ <retval> ])
        (reg:SI 123 [ _19 ])) "../Drivers/CMSIS/Include/core_cm4.h":1871:102 -1
     (nil))
(insn 53 49 54 6 (set (reg/i:SI 0 r0)
        (reg:SI 124 [ <retval> ])) "../Drivers/CMSIS/Include/core_cm4.h":1874:1 -1
     (nil))
(insn 54 53 0 6 (use (reg/i:SI 0 r0)) "../Drivers/CMSIS/Include/core_cm4.h":1874:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function NVIC_DecodePriority (NVIC_DecodePriority, funcdef_no=118, decl_uid=6485, cgraph_uid=119, symbol_order=118)

void NVIC_DecodePriority (uint32_t Priority, uint32_t PriorityGroup, uint32_t * const pPreemptPriority, uint32_t * const pSubPriority)
{
  uint32_t SubPriorityBits;
  uint32_t PreemptPriorityBits;
  uint32_t PriorityGroupTmp;
  long unsigned int iftmp.5;
  long unsigned int _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  long unsigned int _9;
  long unsigned int iftmp.5_10;
  long unsigned int iftmp.5_14;
  long unsigned int iftmp.5_15;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  PriorityGroupTmp_12 = PriorityGroup_11(D) & 7;
  _1 = 7 - PriorityGroupTmp_12;
  PreemptPriorityBits_13 = MIN_EXPR <_1, 4>;
  _2 = PriorityGroupTmp_12 + 4;
  if (_2 > 6)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  iftmp.5_15 = PriorityGroupTmp_12 + 4294967293;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  iftmp.5_14 = 0;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # iftmp.5_10 = PHI <iftmp.5_15(3), iftmp.5_14(4)>
  SubPriorityBits_16 = iftmp.5_10;
  _3 = Priority_17(D) >> SubPriorityBits_16;
  _4 = 4294967295 << PreemptPriorityBits_13;
  _5 = ~_4;
  _6 = _3 & _5;
  *pPreemptPriority_19(D) = _6;
  _7 = 4294967295 << SubPriorityBits_16;
  _8 = ~_7;
  _9 = Priority_17(D) & _8;
  *pSubPriority_21(D) = _9;
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (iftmp.5_10 - 10 )
Partition 11 (PriorityGroup_11(D) - 11 )
Partition 12 (PriorityGroupTmp_12 - 12 )
Partition 13 (PreemptPriorityBits_13 - 13 )
Partition 14 (iftmp.5_14 - 14 )
Partition 15 (iftmp.5_15 - 15 )
Partition 16 (SubPriorityBits_16 - 16 )
Partition 17 (Priority_17(D) - 17 )
Partition 19 (pPreemptPriority_19(D) - 19 )
Partition 21 (pSubPriority_21(D) - 21 )


Coalescible Partition map 

Partition 0, base 0 (iftmp.5_10 - 10 14 15 )
Partition 1, base 1 (PriorityGroup_11(D) - 11 )
Partition 4, base 2 (Priority_17(D) - 17 )
Partition 5, base 3 (pPreemptPriority_19(D) - 19 )
Partition 6, base 4 (pSubPriority_21(D) - 21 )


Partition map 

Partition 0 (iftmp.5_10 - 10 )
Partition 1 (PriorityGroup_11(D) - 11 )
Partition 2 (iftmp.5_14 - 14 )
Partition 3 (iftmp.5_15 - 15 )
Partition 4 (Priority_17(D) - 17 )
Partition 5 (pPreemptPriority_19(D) - 19 )
Partition 6 (pSubPriority_21(D) - 21 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(10000, 0) iftmp.5_10 <-> iftmp.5_15
(10000, 0) iftmp.5_10 <-> iftmp.5_14

Partition map 

Partition 0 (iftmp.5_10 - 10 )
Partition 1 (PriorityGroup_11(D) - 11 )
Partition 2 (iftmp.5_14 - 14 )
Partition 3 (iftmp.5_15 - 15 )
Partition 4 (Priority_17(D) - 17 )
Partition 5 (pPreemptPriority_19(D) - 19 )
Partition 6 (pSubPriority_21(D) - 21 )

Coalesce list: (10)iftmp.5_10 & (15)iftmp.5_15 [map: 0, 3] : Success -> 0
Coalesce list: (10)iftmp.5_10 & (14)iftmp.5_14 [map: 0, 2] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 )
Partition 9 (iftmp.5_10 - 10 14 15 )
Partition 10 (PriorityGroup_11(D) - 11 )
Partition 11 (PriorityGroupTmp_12 - 12 )
Partition 12 (PreemptPriorityBits_13 - 13 )
Partition 13 (SubPriorityBits_16 - 16 )
Partition 14 (Priority_17(D) - 17 )
Partition 15 (pPreemptPriority_19(D) - 19 )
Partition 16 (pSubPriority_21(D) - 21 )

void NVIC_DecodePriority (uint32_t Priority, uint32_t PriorityGroup, uint32_t * const pPreemptPriority, uint32_t * const pSubPriority)
{
  uint32_t SubPriorityBits;
  uint32_t PreemptPriorityBits;
  uint32_t PriorityGroupTmp;
  long unsigned int iftmp.5;
  long unsigned int _1;
  long unsigned int _2;
  long unsigned int _3;
  long unsigned int _4;
  long unsigned int _5;
  long unsigned int _6;
  long unsigned int _7;
  long unsigned int _8;
  long unsigned int _9;
  long unsigned int iftmp.5_10;
  long unsigned int iftmp.5_14;
  long unsigned int iftmp.5_15;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  PriorityGroupTmp_12 = PriorityGroup_11(D) & 7;
  _1 = 7 - PriorityGroupTmp_12;
  PreemptPriorityBits_13 = MIN_EXPR <_1, 4>;
  _2 = PriorityGroupTmp_12 + 4;
  if (_2 > 6)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  iftmp.5_15 = PriorityGroupTmp_12 + 4294967293;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  iftmp.5_14 = 0;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # iftmp.5_10 = PHI <iftmp.5_15(3), iftmp.5_14(4)>
  SubPriorityBits_16 = iftmp.5_10;
  _3 = Priority_17(D) >> SubPriorityBits_16;
  _4 = 4294967295 << PreemptPriorityBits_13;
  _5 = ~_4;
  _6 = _3 & _5;
  *pPreemptPriority_19(D) = _6;
  _7 = 4294967295 << SubPriorityBits_16;
  _8 = ~_7;
  _9 = Priority_17(D) & _8;
  *pSubPriority_21(D) = _9;
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; PriorityGroupTmp_12 = PriorityGroup_11(D) & 7;

(insn 9 8 10 (set (reg:SI 124)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -24 [0xffffffffffffffe8])) [1 PriorityGroup+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1890:12 -1
     (nil))

(insn 10 9 11 (set (reg:SI 123)
        (and:SI (reg:SI 124)
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1890:12 -1
     (nil))

(insn 11 10 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])
        (reg:SI 123)) "../Drivers/CMSIS/Include/core_cm4.h":1890:12 -1
     (nil))

;; _1 = 7 - PriorityGroupTmp_12;

(insn 12 11 13 (set (reg:SI 125)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1894:31 -1
     (nil))

(insn 13 12 0 (set (reg:SI 113 [ _1 ])
        (minus:SI (const_int 7 [0x7])
            (reg:SI 125))) "../Drivers/CMSIS/Include/core_cm4.h":1894:31 -1
     (nil))

;; PreemptPriorityBits_13 = MIN_EXPR <_1, 4>;

(insn 14 13 15 (parallel [
            (set (reg:SI 126)
                (umin:SI (reg:SI 113 [ _1 ])
                    (const_int 4 [0x4])))
            (clobber (reg:CC 100 cc))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1894:23 -1
     (nil))

(insn 15 14 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])
        (reg:SI 126)) "../Drivers/CMSIS/Include/core_cm4.h":1894:23 -1
     (nil))

;; _2 = PriorityGroupTmp_12 + 4;

(insn 16 15 17 (set (reg:SI 127)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1895:44 -1
     (nil))

(insn 17 16 0 (set (reg:SI 114 [ _2 ])
        (plus:SI (reg:SI 127)
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1895:44 -1
     (nil))

;; if (_2 > 6)

(insn 20 17 21 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 114 [ _2 ])
            (const_int 6 [0x6]))) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))

(jump_insn 21 20 0 (set (pc)
        (if_then_else (leu (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; iftmp.5_15 = PriorityGroupTmp_12 + 4294967293;

(insn 23 22 24 (set (reg:SI 128)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))

(insn 24 23 0 (set (reg:SI 122 [ iftmp.5_10 ])
        (plus:SI (reg:SI 128)
            (const_int -3 [0xfffffffffffffffd]))) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 27 26 28 54 (nil) [0 uses])

(note 28 27 0 NOTE_INSN_BASIC_BLOCK)

;; iftmp.5_14 = 0;

(insn 29 28 0 (set (reg:SI 122 [ iftmp.5_10 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))

;; Generating RTL for gimple basic block 5

;; 

(code_label 30 29 31 55 (nil) [0 uses])

(note 31 30 0 NOTE_INSN_BASIC_BLOCK)

;; SubPriorityBits_16 = iftmp.5_10;

(insn 32 31 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])
        (reg:SI 122 [ iftmp.5_10 ])) "../Drivers/CMSIS/Include/core_cm4.h":1895:23 -1
     (nil))

;; _3 = Priority_17(D) >> SubPriorityBits_16;

(insn 33 32 34 (set (reg:SI 129)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 Priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1897:33 -1
     (nil))

(insn 34 33 35 (set (reg:SI 130)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1897:33 -1
     (nil))

(insn 35 34 0 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 129)
            (reg:SI 130))) "../Drivers/CMSIS/Include/core_cm4.h":1897:33 -1
     (nil))

;; _4 = 4294967295 << PreemptPriorityBits_13;

(insn 36 35 37 (set (reg:SI 131)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))

(insn 37 36 38 (set (reg:SI 132)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))

(insn 38 37 0 (set (reg:SI 116 [ _4 ])
        (ashift:SI (reg:SI 131)
            (reg:SI 132))) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))

;; _5 = ~_4;

(insn 39 38 0 (set (reg:SI 117 [ _5 ])
        (not:SI (reg:SI 116 [ _4 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))

;; _6 = _3 & _5;

(insn 40 39 0 (set (reg:SI 118 [ _6 ])
        (and:SI (reg:SI 115 [ _3 ])
            (reg:SI 117 [ _5 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))

;; *pPreemptPriority_19(D) = _6;

(insn 41 40 42 (set (reg/f:SI 133)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -28 [0xffffffffffffffe4])) [7 pPreemptPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1897:21 -1
     (nil))

(insn 42 41 0 (set (mem:SI (reg/f:SI 133) [1 *pPreemptPriority_19(D)+0 S4 A32])
        (reg:SI 118 [ _6 ])) "../Drivers/CMSIS/Include/core_cm4.h":1897:21 -1
     (nil))

;; _7 = 4294967295 << SubPriorityBits_16;

(insn 43 42 44 (set (reg:SI 134)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))

(insn 44 43 45 (set (reg:SI 135)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))

(insn 45 44 0 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 134)
            (reg:SI 135))) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))

;; _8 = ~_7;

(insn 46 45 0 (set (reg:SI 120 [ _8 ])
        (not:SI (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))

;; _9 = Priority_17(D) & _8;

(insn 47 46 48 (set (reg:SI 136)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 Priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))

(insn 48 47 0 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (reg:SI 136))) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))

;; *pSubPriority_21(D) = _9;

(insn 49 48 50 (set (reg/f:SI 137)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -32 [0xffffffffffffffe0])) [7 pSubPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1898:21 -1
     (nil))

(insn 50 49 0 (set (mem:SI (reg/f:SI 137) [1 *pSubPriority_21(D)+0 S4 A32])
        (reg:SI 121 [ _9 ])) "../Drivers/CMSIS/Include/core_cm4.h":1898:21 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 7 into block 6...
Merged blocks 6 and 7.
Merged 6 and 7 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 7 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 7 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 7 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 Priority+0 S4 A32])
        (reg:SI 0 r0 [ Priority ])) "../Drivers/CMSIS/Include/core_cm4.h":1889:1 -1
     (nil))
(insn 3 2 4 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -24 [0xffffffffffffffe8])) [1 PriorityGroup+0 S4 A32])
        (reg:SI 1 r1 [ PriorityGroup ])) "../Drivers/CMSIS/Include/core_cm4.h":1889:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -28 [0xffffffffffffffe4])) [7 pPreemptPriority+0 S4 A32])
        (reg:SI 2 r2 [ pPreemptPriority ])) "../Drivers/CMSIS/Include/core_cm4.h":1889:1 -1
     (nil))
(insn 5 4 6 2 (set (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -32 [0xffffffffffffffe0])) [7 pSubPriority+0 S4 A32])
        (reg:SI 3 r3 [ pSubPriority ])) "../Drivers/CMSIS/Include/core_cm4.h":1889:1 -1
     (nil))
(note 6 5 9 2 NOTE_INSN_FUNCTION_BEG)
(insn 9 6 10 2 (set (reg:SI 124)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -24 [0xffffffffffffffe8])) [1 PriorityGroup+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1890:12 -1
     (nil))
(insn 10 9 11 2 (set (reg:SI 123)
        (and:SI (reg:SI 124)
            (const_int 7 [0x7]))) "../Drivers/CMSIS/Include/core_cm4.h":1890:12 -1
     (nil))
(insn 11 10 12 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])
        (reg:SI 123)) "../Drivers/CMSIS/Include/core_cm4.h":1890:12 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 125)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1894:31 -1
     (nil))
(insn 13 12 14 2 (set (reg:SI 113 [ _1 ])
        (minus:SI (const_int 7 [0x7])
            (reg:SI 125))) "../Drivers/CMSIS/Include/core_cm4.h":1894:31 -1
     (nil))
(insn 14 13 15 2 (parallel [
            (set (reg:SI 126)
                (umin:SI (reg:SI 113 [ _1 ])
                    (const_int 4 [0x4])))
            (clobber (reg:CC 100 cc))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1894:23 -1
     (nil))
(insn 15 14 16 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])
        (reg:SI 126)) "../Drivers/CMSIS/Include/core_cm4.h":1894:23 -1
     (nil))
(insn 16 15 17 2 (set (reg:SI 127)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1895:44 -1
     (nil))
(insn 17 16 20 2 (set (reg:SI 114 [ _2 ])
        (plus:SI (reg:SI 127)
            (const_int 4 [0x4]))) "../Drivers/CMSIS/Include/core_cm4.h":1895:44 -1
     (nil))
(insn 20 17 21 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 114 [ _2 ])
            (const_int 6 [0x6]))) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))
(jump_insn 21 20 22 2 (set (pc)
        (if_then_else (leu (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 27)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil)
 -> 27)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 22 21 23 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 23 22 24 4 (set (reg:SI 128)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroupTmp+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))
(insn 24 23 25 4 (set (reg:SI 122 [ iftmp.5_10 ])
        (plus:SI (reg:SI 128)
            (const_int -3 [0xfffffffffffffffd]))) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))
(jump_insn 25 24 26 4 (set (pc)
        (label_ref 30)) -1
     (nil)
 -> 30)
;;  succ:       6

(barrier 26 25 27)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 27 26 28 5 54 (nil) [1 uses])
(note 28 27 29 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 29 28 30 5 (set (reg:SI 122 [ iftmp.5_10 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":1895:109 -1
     (nil))
;;  succ:       6 (FALLTHRU)

;; basic block 6, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       4
;;              5 (FALLTHRU)
(code_label 30 29 31 6 55 (nil) [1 uses])
(note 31 30 32 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 32 31 33 6 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])
        (reg:SI 122 [ iftmp.5_10 ])) "../Drivers/CMSIS/Include/core_cm4.h":1895:23 -1
     (nil))
(insn 33 32 34 6 (set (reg:SI 129)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 Priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1897:33 -1
     (nil))
(insn 34 33 35 6 (set (reg:SI 130)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1897:33 -1
     (nil))
(insn 35 34 36 6 (set (reg:SI 115 [ _3 ])
        (lshiftrt:SI (reg:SI 129)
            (reg:SI 130))) "../Drivers/CMSIS/Include/core_cm4.h":1897:33 -1
     (nil))
(insn 36 35 37 6 (set (reg:SI 131)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))
(insn 37 36 38 6 (set (reg:SI 132)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PreemptPriorityBits+0 S4 A64])) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))
(insn 38 37 39 6 (set (reg:SI 116 [ _4 ])
        (ashift:SI (reg:SI 131)
            (reg:SI 132))) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))
(insn 39 38 40 6 (set (reg:SI 117 [ _5 ])
        (not:SI (reg:SI 116 [ _4 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))
(insn 40 39 41 6 (set (reg:SI 118 [ _6 ])
        (and:SI (reg:SI 115 [ _3 ])
            (reg:SI 117 [ _5 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1897:53 -1
     (nil))
(insn 41 40 42 6 (set (reg/f:SI 133)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -28 [0xffffffffffffffe4])) [7 pPreemptPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1897:21 -1
     (nil))
(insn 42 41 43 6 (set (mem:SI (reg/f:SI 133) [1 *pPreemptPriority_19(D)+0 S4 A32])
        (reg:SI 118 [ _6 ])) "../Drivers/CMSIS/Include/core_cm4.h":1897:21 -1
     (nil))
(insn 43 42 44 6 (set (reg:SI 134)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))
(insn 44 43 45 6 (set (reg:SI 135)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [1 SubPriorityBits+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))
(insn 45 44 46 6 (set (reg:SI 119 [ _7 ])
        (ashift:SI (reg:SI 134)
            (reg:SI 135))) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))
(insn 46 45 47 6 (set (reg:SI 120 [ _8 ])
        (not:SI (reg:SI 119 [ _7 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))
(insn 47 46 48 6 (set (reg:SI 136)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 Priority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))
(insn 48 47 49 6 (set (reg:SI 121 [ _9 ])
        (and:SI (reg:SI 120 [ _8 ])
            (reg:SI 136))) "../Drivers/CMSIS/Include/core_cm4.h":1898:53 -1
     (nil))
(insn 49 48 50 6 (set (reg/f:SI 137)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -32 [0xffffffffffffffe0])) [7 pSubPriority+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1898:21 -1
     (nil))
(insn 50 49 0 6 (set (mem:SI (reg/f:SI 137) [1 *pSubPriority_21(D)+0 S4 A32])
        (reg:SI 121 [ _9 ])) "../Drivers/CMSIS/Include/core_cm4.h":1898:21 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:1899:1


;; Function __NVIC_SystemReset (__NVIC_SystemReset, funcdef_no=121, decl_uid=6500, cgraph_uid=122, symbol_order=121)

__attribute__((noreturn))
void __NVIC_SystemReset ()
{
  struct SCB_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  struct SCB_Type * _4;
  long unsigned int _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758157056B;
  _2 ={v} _1->AIRCR;
  _3 = _2 & 1792;
  _4 = 3758157056B;
  _5 = _3 | 100270084;
  _4->AIRCR ={v} _5;
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       3
;;    succ:       5

;;   basic block 5, loop depth 1
;;    pred:       4
;;                5
  __asm__ __volatile__("nop");
  goto <bb 5>; [100.00%]
;;    succ:       5

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )


Coalescible Partition map 


After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )

__attribute__((noreturn))
void __NVIC_SystemReset ()
{
  struct SCB_Type * _1;
  long unsigned int _2;
  long unsigned int _3;
  struct SCB_Type * _4;
  long unsigned int _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758157056B;
  _2 ={v} _1->AIRCR;
  _3 = _2 & 1792;
  _4 = 3758157056B;
  _5 = _3 | 100270084;
  _4->AIRCR ={v} _5;
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       3
;;    succ:       5

;;   basic block 5, loop depth 1
;;    pred:       4
;;                5
  __asm__ __volatile__("nop");
  goto <bb 5>; [100.00%]
;;    succ:       5

}



;; Generating RTL for gimple basic block 2

;; __asm__ __volatile__("dsb 0xF" :  :  : "memory");

(insn 5 4 0 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = 3758157056B;

(insn 7 6 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1943:32 -1
     (nil))

;; _2 ={v} _1->AIRCR;

(insn 8 7 0 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 12 [0xc])) [1 _1->AIRCR+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1943:32 -1
     (nil))

;; _3 = _2 & 1792;

(insn 9 8 0 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 1792 [0x700]))) "../Drivers/CMSIS/Include/core_cm4.h":1943:40 -1
     (nil))

;; _4 = 3758157056B;

(insn 10 9 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1942:6 -1
     (nil))

;; _5 = _3 | 100270084;

(insn 11 10 12 (set (reg:SI 117 [ _5 ])
        (const_int 100270084 [0x5fa0004])) "../Drivers/CMSIS/Include/core_cm4.h":1942:17 -1
     (nil))

(insn 12 11 0 (set (reg:SI 117 [ _5 ])
        (ior:SI (reg:SI 115 [ _3 ])
            (reg:SI 117 [ _5 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1942:17 -1
     (expr_list:REG_EQUAL (ior:SI (reg:SI 115 [ _3 ])
            (const_int 100270084 [0x5fa0004]))
        (nil)))

;; _4->AIRCR ={v} _5;

(insn 13 12 0 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 12 [0xc])) [1 _4->AIRCR+0 S4 A32])
        (reg:SI 117 [ _5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1942:15 -1
     (nil))

;; __asm__ __volatile__("dsb 0xF" :  :  : "memory");

(insn 14 13 0 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; Generating RTL for gimple basic block 5

;; __asm__ __volatile__("nop");

(insn 17 16 0 (parallel [
            (asm_input/v ("nop") ../Drivers/CMSIS/Include/core_cm4.h:1949)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1949:5 -1
     (nil))
deleting block 7


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(insn 5 2 23 2 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))
(insn 23 5 7 2 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":272:1 -1
     (nil))
(insn 7 23 8 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1943:32 -1
     (nil))
(insn 8 7 9 2 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 12 [0xc])) [1 _1->AIRCR+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":1943:32 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 115 [ _3 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int 1792 [0x700]))) "../Drivers/CMSIS/Include/core_cm4.h":1943:40 -1
     (nil))
(insn 10 9 11 2 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/CMSIS/Include/core_cm4.h":1942:6 -1
     (nil))
(insn 11 10 12 2 (set (reg:SI 117 [ _5 ])
        (const_int 100270084 [0x5fa0004])) "../Drivers/CMSIS/Include/core_cm4.h":1942:17 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 117 [ _5 ])
        (ior:SI (reg:SI 115 [ _3 ])
            (reg:SI 117 [ _5 ]))) "../Drivers/CMSIS/Include/core_cm4.h":1942:17 -1
     (expr_list:REG_EQUAL (ior:SI (reg:SI 115 [ _3 ])
            (const_int 100270084 [0x5fa0004]))
        (nil)))
(insn 13 12 14 2 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 12 [0xc])) [1 _4->AIRCR+0 S4 A32])
        (reg:SI 117 [ _5 ])) "../Drivers/CMSIS/Include/core_cm4.h":1942:15 -1
     (nil))
(insn 14 13 24 2 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))
(insn 24 14 18 2 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":272:1 -1
     (nil))
;;  succ:       6 (FALLTHRU)

;; basic block 6, loop depth 1, maybe hot
;;  prev block 2, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
;;              6 [always]  (DFS_BACK)
(code_label 18 24 16 6 57 (nil) [1 uses])
(note 16 18 17 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 17 16 19 6 (parallel [
            (asm_input/v ("nop") ../Drivers/CMSIS/Include/core_cm4.h:1949)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":1949:5 -1
     (nil))
(jump_insn 19 17 20 6 (set (pc)
        (label_ref 18)) "../Drivers/CMSIS/Include/core_cm4.h":1949:5 -1
     (nil)
 -> 18)
;;  succ:       6 [always]  (DFS_BACK)

(barrier 20 19 0)

;; Function SysTick_Config (SysTick_Config, funcdef_no=130, decl_uid=6550, cgraph_uid=131, symbol_order=130)

uint32_t SysTick_Config (uint32_t ticks)
{
  uint32_t D.7988;
  long unsigned int _1;
  struct SysTick_Type * _2;
  long unsigned int _3;
  struct SysTick_Type * _4;
  struct SysTick_Type * _5;
  uint32_t _6;
  uint32_t _14;
  uint32_t _15;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = ticks_8(D) + 4294967295;
  if (_1 > 16777215)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _15 = 1;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _2 = 3758153744B;
  _3 = ticks_8(D) + 4294967295;
  _2->LOAD ={v} _3;
  __NVIC_SetPriority (-1, 15);
  _4 = 3758153744B;
  _4->VAL ={v} 0;
  _5 = 3758153744B;
  _5->CTRL ={v} 7;
  _14 = 0;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _6 = PHI <_15(3), _14(4)>
<L2>:
  return _6;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 8 (ticks_8(D) - 8 )
Partition 14 (_14 - 14 )
Partition 15 (_15 - 15 )
Partition 16 (_16(D) - 16 )


Coalescible Partition map 

Partition 0, base 0 (_6 - 6 14 15 )
Partition 1, base 1 (ticks_8(D) - 8 )
Partition 4, base 2 (_16(D) - 16 )


Partition map 

Partition 0 (_6 - 6 )
Partition 1 (ticks_8(D) - 8 )
Partition 2 (_14 - 14 )
Partition 3 (_15 - 15 )
Partition 4 (_16(D) - 16 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(10000, 0) _6 <-> _15
(10000, 0) _6 <-> _14

Partition map 

Partition 0 (_6 - 6 )
Partition 1 (ticks_8(D) - 8 )
Partition 2 (_14 - 14 )
Partition 3 (_15 - 15 )
Partition 4 (_16(D) - 16 )

Coalesce list: (6)_6 & (15)_15 [map: 0, 3] : Success -> 0
Coalesce list: (6)_6 & (14)_14 [map: 0, 2] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 14 15 )
Partition 6 (ticks_8(D) - 8 )
Partition 7 (_16(D) - 16 )

uint32_t SysTick_Config (uint32_t ticks)
{
  uint32_t D.7988;
  long unsigned int _1;
  struct SysTick_Type * _2;
  long unsigned int _3;
  struct SysTick_Type * _4;
  struct SysTick_Type * _5;
  uint32_t _6;
  uint32_t _14;
  uint32_t _15;
  uint32_t _16(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = ticks_8(D) + 4294967295;
  if (_1 > 16777215)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _15 = 1;
  // predicted unlikely by early return (on trees) predictor.
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _2 = 3758153744B;
  _3 = ticks_8(D) + 4294967295;
  _2->LOAD ={v} _3;
  __NVIC_SetPriority (-1, 15);
  _4 = 3758153744B;
  _4->VAL ={v} 0;
  _5 = 3758153744B;
  _5->CTRL ={v} 7;
  _14 = 0;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  # _6 = PHI <_15(3), _14(4)>
<L2>:
  return _6;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = ticks_8(D) + 4294967295;

(insn 6 5 7 (set (reg:SI 120)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 ticks+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":2024:14 -1
     (nil))

(insn 7 6 0 (set (reg:SI 113 [ _1 ])
        (plus:SI (reg:SI 120)
            (const_int -1 [0xffffffffffffffff]))) "../Drivers/CMSIS/Include/core_cm4.h":2024:14 -1
     (nil))

;; if (_1 > 16777215)

(insn 10 7 11 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 113 [ _1 ])
            (const_int 16777216 [0x1000000]))) "../Drivers/CMSIS/Include/core_cm4.h":2024:6 -1
     (nil))

(jump_insn 11 10 0 (set (pc)
        (if_then_else (ltu (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":2024:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _15 = 1;

(insn 13 12 0 (set (reg:SI 118 [ _6 ])
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":2026:12 -1
     (nil))

;; // predicted unlikely by early return (on trees) predictor.

(nil)

;; Generating RTL for gimple basic block 4

;; 

(code_label 16 15 17 61 (nil) [0 uses])

(note 17 16 0 NOTE_INSN_BASIC_BLOCK)

;; _2 = 3758153744B;

(insn 18 17 0 (set (reg/f:SI 114 [ _2 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/CMSIS/Include/core_cm4.h":2029:10 -1
     (nil))

;; _3 = ticks_8(D) + 4294967295;

(insn 19 18 20 (set (reg:SI 121)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 ticks+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":2029:20 -1
     (nil))

(insn 20 19 0 (set (reg:SI 115 [ _3 ])
        (plus:SI (reg:SI 121)
            (const_int -1 [0xffffffffffffffff]))) "../Drivers/CMSIS/Include/core_cm4.h":2029:20 -1
     (nil))

;; _2->LOAD ={v} _3;

(insn 21 20 0 (set (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 4 [0x4])) [1 _2->LOAD+0 S4 A32])
        (reg:SI 115 [ _3 ])) "../Drivers/CMSIS/Include/core_cm4.h":2029:18 -1
     (nil))

;; __NVIC_SetPriority (-1, 15);

(insn 22 21 23 (set (reg:SI 1 r1)
        (const_int 15 [0xf])) "../Drivers/CMSIS/Include/core_cm4.h":2030:3 -1
     (nil))

(insn 23 22 24 (set (reg:SI 0 r0)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":2030:3 -1
     (nil))

(call_insn 24 23 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPriority") [flags 0x3]  <function_decl 0000000006385200 __NVIC_SetPriority>) [0 __NVIC_SetPriority S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":2030:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (nil)))))

;; _4 = 3758153744B;

(insn 25 24 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/CMSIS/Include/core_cm4.h":2031:10 -1
     (nil))

;; _4->VAL ={v} 0;

(insn 26 25 27 (set (reg:SI 122)
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":2031:18 -1
     (nil))

(insn 27 26 0 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 8 [0x8])) [1 _4->VAL+0 S4 A32])
        (reg:SI 122)) "../Drivers/CMSIS/Include/core_cm4.h":2031:18 -1
     (nil))

;; _5 = 3758153744B;

(insn 28 27 0 (set (reg/f:SI 117 [ _5 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/CMSIS/Include/core_cm4.h":2032:10 -1
     (nil))

;; _5->CTRL ={v} 7;

(insn 29 28 30 (set (reg:SI 123)
        (const_int 7 [0x7])) "../Drivers/CMSIS/Include/core_cm4.h":2032:18 -1
     (nil))

(insn 30 29 0 (set (mem/v:SI (reg/f:SI 117 [ _5 ]) [1 _5->CTRL+0 S4 A32])
        (reg:SI 123)) "../Drivers/CMSIS/Include/core_cm4.h":2032:18 -1
     (nil))

;; _14 = 0;

(insn 31 30 0 (set (reg:SI 118 [ _6 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":2035:10 -1
     (nil))

;; Generating RTL for gimple basic block 5

;; <L2>:

(code_label 32 31 33 62 (nil) [0 uses])

(note 33 32 0 NOTE_INSN_BASIC_BLOCK)

;; return _6;

(insn 34 33 35 (set (reg:SI 119 [ <retval> ])
        (reg:SI 118 [ _6 ])) "../Drivers/CMSIS/Include/core_cm4.h":2036:1 -1
     (nil))

(jump_insn 35 34 36 (set (pc)
        (label_ref 0)) "../Drivers/CMSIS/Include/core_cm4.h":2036:1 -1
     (nil))

(barrier 36 35 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Removing jump 35.
Merging block 7 into block 6...
Merged blocks 6 and 7.
Merged 6 and 7 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 ticks+0 S4 A32])
        (reg:SI 0 r0 [ ticks ])) "../Drivers/CMSIS/Include/core_cm4.h":2023:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg:SI 120)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 ticks+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":2024:14 -1
     (nil))
(insn 7 6 10 2 (set (reg:SI 113 [ _1 ])
        (plus:SI (reg:SI 120)
            (const_int -1 [0xffffffffffffffff]))) "../Drivers/CMSIS/Include/core_cm4.h":2024:14 -1
     (nil))
(insn 10 7 11 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 113 [ _1 ])
            (const_int 16777216 [0x1000000]))) "../Drivers/CMSIS/Include/core_cm4.h":2024:6 -1
     (nil))
(jump_insn 11 10 12 2 (set (pc)
        (if_then_else (ltu (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 16)
            (pc))) "../Drivers/CMSIS/Include/core_cm4.h":2024:6 -1
     (nil)
 -> 16)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2 (FALLTHRU)
(note 12 11 13 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 13 12 14 4 (set (reg:SI 118 [ _6 ])
        (const_int 1 [0x1])) "../Drivers/CMSIS/Include/core_cm4.h":2026:12 -1
     (nil))
(jump_insn 14 13 15 4 (set (pc)
        (label_ref 32)) "../Drivers/CMSIS/Include/core_cm4.h":2026:12 -1
     (nil)
 -> 32)
;;  succ:       6 ../Drivers/CMSIS/Include/core_cm4.h:2026:12

(barrier 15 14 16)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 6, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 16 15 17 5 61 (nil) [1 uses])
(note 17 16 18 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 18 17 19 5 (set (reg/f:SI 114 [ _2 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/CMSIS/Include/core_cm4.h":2029:10 -1
     (nil))
(insn 19 18 20 5 (set (reg:SI 121)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 ticks+0 S4 A32])) "../Drivers/CMSIS/Include/core_cm4.h":2029:20 -1
     (nil))
(insn 20 19 21 5 (set (reg:SI 115 [ _3 ])
        (plus:SI (reg:SI 121)
            (const_int -1 [0xffffffffffffffff]))) "../Drivers/CMSIS/Include/core_cm4.h":2029:20 -1
     (nil))
(insn 21 20 22 5 (set (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 4 [0x4])) [1 _2->LOAD+0 S4 A32])
        (reg:SI 115 [ _3 ])) "../Drivers/CMSIS/Include/core_cm4.h":2029:18 -1
     (nil))
(insn 22 21 23 5 (set (reg:SI 1 r1)
        (const_int 15 [0xf])) "../Drivers/CMSIS/Include/core_cm4.h":2030:3 -1
     (nil))
(insn 23 22 24 5 (set (reg:SI 0 r0)
        (const_int -1 [0xffffffffffffffff])) "../Drivers/CMSIS/Include/core_cm4.h":2030:3 -1
     (nil))
(call_insn 24 23 25 5 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPriority") [flags 0x3]  <function_decl 0000000006385200 __NVIC_SetPriority>) [0 __NVIC_SetPriority S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/CMSIS/Include/core_cm4.h":2030:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (nil)))))
(insn 25 24 26 5 (set (reg/f:SI 116 [ _4 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/CMSIS/Include/core_cm4.h":2031:10 -1
     (nil))
(insn 26 25 27 5 (set (reg:SI 122)
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":2031:18 -1
     (nil))
(insn 27 26 28 5 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 8 [0x8])) [1 _4->VAL+0 S4 A32])
        (reg:SI 122)) "../Drivers/CMSIS/Include/core_cm4.h":2031:18 -1
     (nil))
(insn 28 27 29 5 (set (reg/f:SI 117 [ _5 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/CMSIS/Include/core_cm4.h":2032:10 -1
     (nil))
(insn 29 28 30 5 (set (reg:SI 123)
        (const_int 7 [0x7])) "../Drivers/CMSIS/Include/core_cm4.h":2032:18 -1
     (nil))
(insn 30 29 31 5 (set (mem/v:SI (reg/f:SI 117 [ _5 ]) [1 _5->CTRL+0 S4 A32])
        (reg:SI 123)) "../Drivers/CMSIS/Include/core_cm4.h":2032:18 -1
     (nil))
(insn 31 30 32 5 (set (reg:SI 118 [ _6 ])
        (const_int 0 [0])) "../Drivers/CMSIS/Include/core_cm4.h":2035:10 -1
     (nil))
;;  succ:       6 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:2035:10

;; basic block 6, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       4 ../Drivers/CMSIS/Include/core_cm4.h:2026:12
;;              5 (FALLTHRU) ../Drivers/CMSIS/Include/core_cm4.h:2035:10
(code_label 32 31 33 6 62 (nil) [1 uses])
(note 33 32 34 6 [bb 6] NOTE_INSN_BASIC_BLOCK)
(insn 34 33 38 6 (set (reg:SI 119 [ <retval> ])
        (reg:SI 118 [ _6 ])) "../Drivers/CMSIS/Include/core_cm4.h":2036:1 -1
     (nil))
(insn 38 34 39 6 (set (reg/i:SI 0 r0)
        (reg:SI 119 [ <retval> ])) "../Drivers/CMSIS/Include/core_cm4.h":2036:1 -1
     (nil))
(insn 39 38 0 6 (use (reg/i:SI 0 r0)) "../Drivers/CMSIS/Include/core_cm4.h":2036:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function HAL_NVIC_SetPriorityGrouping (HAL_NVIC_SetPriorityGrouping, funcdef_no=134, decl_uid=7221, cgraph_uid=139, symbol_order=138)

void HAL_NVIC_SetPriorityGrouping (uint32_t PriorityGroup)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_SetPriorityGrouping (PriorityGroup_2(D));
  return;
;;    succ:       EXIT

}



Partition map 

Partition 2 (PriorityGroup_2(D) - 2 )


Coalescible Partition map 

Partition 0, base 0 (PriorityGroup_2(D) - 2 )


Partition map 

Partition 0 (PriorityGroup_2(D) - 2 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (PriorityGroup_2(D) - 2 )

After Coalescing:

Partition map 

Partition 0 (PriorityGroup_2(D) - 2 )

void HAL_NVIC_SetPriorityGrouping (uint32_t PriorityGroup)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_SetPriorityGrouping (PriorityGroup_2(D));
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __NVIC_SetPriorityGrouping (PriorityGroup_2(D));

(insn 6 5 7 (set (reg:SI 0 r0)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroup+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":147:3 -1
     (nil))

(call_insn 7 6 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPriorityGrouping") [flags 0x3]  <function_decl 000000000636b000 __NVIC_SetPriorityGrouping>) [0 __NVIC_SetPriorityGrouping S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":147:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (nil))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroup+0 S4 A32])
        (reg:SI 0 r0 [ PriorityGroup ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":142:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg:SI 0 r0)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 PriorityGroup+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":147:3 -1
     (nil))
(call_insn 7 6 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPriorityGrouping") [flags 0x3]  <function_decl 000000000636b000 __NVIC_SetPriorityGrouping>) [0 __NVIC_SetPriorityGrouping S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":147:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (nil))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:148:1


;; Function HAL_NVIC_SetPriority (HAL_NVIC_SetPriority, funcdef_no=135, decl_uid=7225, cgraph_uid=140, symbol_order=139)

void HAL_NVIC_SetPriority (IRQn_Type IRQn, uint32_t PreemptPriority, uint32_t SubPriority)
{
  uint32_t prioritygroup;
  long unsigned int _1;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  prioritygroup_2 = 0;
  prioritygroup_5 = __NVIC_GetPriorityGrouping ();
  _1 = NVIC_EncodePriority (prioritygroup_5, PreemptPriority_6(D), SubPriority_7(D));
  __NVIC_SetPriority (IRQn_9(D), _1);
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (prioritygroup_2 - 2 )
Partition 5 (prioritygroup_5 - 5 )
Partition 6 (PreemptPriority_6(D) - 6 )
Partition 7 (SubPriority_7(D) - 7 )
Partition 9 (IRQn_9(D) - 9 )


Coalescible Partition map 

Partition 0, base 0 (prioritygroup_2 - 2 5 )
Partition 2, base 1 (PreemptPriority_6(D) - 6 )
Partition 3, base 2 (SubPriority_7(D) - 7 )
Partition 4, base 3 (IRQn_9(D) - 9 )


Partition map 

Partition 0 (prioritygroup_2 - 2 )
Partition 1 (prioritygroup_5 - 5 )
Partition 2 (PreemptPriority_6(D) - 6 )
Partition 3 (SubPriority_7(D) - 7 )
Partition 4 (IRQn_9(D) - 9 )


Conflict graph:

After sorting:
Sorted Coalesce list:
(2147483646, 0) prioritygroup_2 <-> prioritygroup_5

Partition map 

Partition 0 (prioritygroup_2 - 2 )
Partition 1 (prioritygroup_5 - 5 )
Partition 2 (PreemptPriority_6(D) - 6 )
Partition 3 (SubPriority_7(D) - 7 )
Partition 4 (IRQn_9(D) - 9 )

Coalesce list: (2)prioritygroup_2 & (5)prioritygroup_5 [map: 0, 1] : Success -> 0
After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (prioritygroup_2 - 2 5 )
Partition 2 (PreemptPriority_6(D) - 6 )
Partition 3 (SubPriority_7(D) - 7 )
Partition 4 (IRQn_9(D) - 9 )

void HAL_NVIC_SetPriority (IRQn_Type IRQn, uint32_t PreemptPriority, uint32_t SubPriority)
{
  uint32_t prioritygroup;
  long unsigned int _1;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  prioritygroup_2 = 0;
  prioritygroup_5 = __NVIC_GetPriorityGrouping ();
  _1 = NVIC_EncodePriority (prioritygroup_5, PreemptPriority_6(D), SubPriority_7(D));
  __NVIC_SetPriority (IRQn_9(D), _1);
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; prioritygroup_2 = 0;

(insn 10 9 11 (set (reg:SI 116)
        (const_int 0 [0])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":165:12 -1
     (nil))

(insn 11 10 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 prioritygroup+0 S4 A32])
        (reg:SI 116)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":165:12 -1
     (nil))

;; prioritygroup_5 = __NVIC_GetPriorityGrouping ();

(call_insn 12 11 13 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPriorityGrouping") [flags 0x3]  <function_decl 000000000636b200 __NVIC_GetPriorityGrouping>) [0 __NVIC_GetPriorityGrouping S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":171:19 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))

(insn 13 12 0 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 prioritygroup+0 S4 A32])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":171:19 -1
     (nil))

;; _1 = NVIC_EncodePriority (prioritygroup_5, PreemptPriority_6(D), SubPriority_7(D));

(insn 14 13 15 (set (reg:SI 2 r2)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 SubPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

(insn 15 14 16 (set (reg:SI 1 r1)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -16 [0xfffffffffffffff0])) [1 PreemptPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

(insn 16 15 17 (set (reg:SI 0 r0)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 prioritygroup+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

(call_insn 17 16 18 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("NVIC_EncodePriority") [flags 0x3]  <function_decl 0000000006385600 NVIC_EncodePriority>) [0 NVIC_EncodePriority S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (expr_list:SI (use (reg:SI 2 r2))
                    (nil))))))

(insn 18 17 0 (set (reg:SI 113 [ _1 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

;; __NVIC_SetPriority (IRQn_9(D), _1);

(insn 19 18 20 (set (reg:SI 117)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -9 [0xfffffffffffffff7])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

(insn 20 19 21 (set (reg:SI 1 r1)
        (reg:SI 113 [ _1 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

(insn 21 20 22 (set (reg:SI 0 r0)
        (reg:SI 117)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))

(call_insn 22 21 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPriority") [flags 0x3]  <function_decl 0000000006385200 __NVIC_SetPriority>) [0 __NVIC_SetPriority S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (nil)))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 8 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 8 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 8 5 2 (set (reg:SI 114)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":164:1 -1
     (nil))
(insn 5 2 6 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -16 [0xfffffffffffffff0])) [1 PreemptPriority+0 S4 A32])
        (reg:SI 1 r1 [ PreemptPriority ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":164:1 -1
     (nil))
(insn 6 5 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 SubPriority+0 S4 A32])
        (reg:SI 2 r2 [ SubPriority ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":164:1 -1
     (nil))
(insn 3 6 4 2 (set (reg:QI 115)
        (subreg:QI (reg:SI 114) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":164:1 -1
     (nil))
(insn 4 3 7 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -9 [0xfffffffffffffff7])) [0 IRQn+0 S1 A8])
        (reg:QI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":164:1 -1
     (nil))
(note 7 4 10 2 NOTE_INSN_FUNCTION_BEG)
(insn 10 7 11 2 (set (reg:SI 116)
        (const_int 0 [0])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":165:12 -1
     (nil))
(insn 11 10 12 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 prioritygroup+0 S4 A32])
        (reg:SI 116)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":165:12 -1
     (nil))
(call_insn 12 11 13 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPriorityGrouping") [flags 0x3]  <function_decl 000000000636b200 __NVIC_GetPriorityGrouping>) [0 __NVIC_GetPriorityGrouping S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":171:19 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))
(insn 13 12 14 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 prioritygroup+0 S4 A32])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":171:19 -1
     (nil))
(insn 14 13 15 2 (set (reg:SI 2 r2)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -20 [0xffffffffffffffec])) [1 SubPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(insn 15 14 16 2 (set (reg:SI 1 r1)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -16 [0xfffffffffffffff0])) [1 PreemptPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(insn 16 15 17 2 (set (reg:SI 0 r0)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 prioritygroup+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(call_insn 17 16 18 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("NVIC_EncodePriority") [flags 0x3]  <function_decl 0000000006385600 NVIC_EncodePriority>) [0 NVIC_EncodePriority S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (expr_list:SI (use (reg:SI 2 r2))
                    (nil))))))
(insn 18 17 19 2 (set (reg:SI 113 [ _1 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(insn 19 18 20 2 (set (reg:SI 117)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -9 [0xfffffffffffffff7])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(insn 20 19 21 2 (set (reg:SI 1 r1)
        (reg:SI 113 [ _1 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(insn 21 20 22 2 (set (reg:SI 0 r0)
        (reg:SI 117)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil))
(call_insn 22 21 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPriority") [flags 0x3]  <function_decl 0000000006385200 __NVIC_SetPriority>) [0 __NVIC_SetPriority S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":173:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (nil)))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:174:1


;; Function HAL_NVIC_EnableIRQ (HAL_NVIC_EnableIRQ, funcdef_no=136, decl_uid=7227, cgraph_uid=141, symbol_order=140)

void HAL_NVIC_EnableIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_EnableIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



Partition map 

Partition 2 (IRQn_2(D) - 2 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_2(D) - 2 )


Partition map 

Partition 0 (IRQn_2(D) - 2 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

After Coalescing:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

void HAL_NVIC_EnableIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_EnableIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __NVIC_EnableIRQ (IRQn_2(D));

(insn 8 7 9 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":191:3 -1
     (nil))

(insn 9 8 10 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":191:3 -1
     (nil))

(call_insn 10 9 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_EnableIRQ") [flags 0x3]  <function_decl 000000000636b400 __NVIC_EnableIRQ>) [0 __NVIC_EnableIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":191:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 113)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":186:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 114)
        (subreg:QI (reg:SI 113) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":186:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 114)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":186:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":191:3 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":191:3 -1
     (nil))
(call_insn 10 9 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_EnableIRQ") [flags 0x3]  <function_decl 000000000636b400 __NVIC_EnableIRQ>) [0 __NVIC_EnableIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":191:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:192:1


;; Function HAL_NVIC_DisableIRQ (HAL_NVIC_DisableIRQ, funcdef_no=137, decl_uid=7229, cgraph_uid=142, symbol_order=141)

void HAL_NVIC_DisableIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_DisableIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



Partition map 

Partition 2 (IRQn_2(D) - 2 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_2(D) - 2 )


Partition map 

Partition 0 (IRQn_2(D) - 2 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

After Coalescing:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

void HAL_NVIC_DisableIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_DisableIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __NVIC_DisableIRQ (IRQn_2(D));

(insn 8 7 9 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":207:3 -1
     (nil))

(insn 9 8 10 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":207:3 -1
     (nil))

(call_insn 10 9 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_DisableIRQ") [flags 0x3]  <function_decl 000000000636b800 __NVIC_DisableIRQ>) [0 __NVIC_DisableIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":207:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 113)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":202:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 114)
        (subreg:QI (reg:SI 113) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":202:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 114)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":202:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":207:3 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":207:3 -1
     (nil))
(call_insn 10 9 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_DisableIRQ") [flags 0x3]  <function_decl 000000000636b800 __NVIC_DisableIRQ>) [0 __NVIC_DisableIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":207:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:208:1


;; Function HAL_NVIC_SystemReset (HAL_NVIC_SystemReset, funcdef_no=138, decl_uid=7231, cgraph_uid=143, symbol_order=142)

void HAL_NVIC_SystemReset ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_SystemReset ();
;;    succ:      

}



Partition map 



Coalescible Partition map 


After Coalescing:

Partition map 


void HAL_NVIC_SystemReset ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_SystemReset ();
;;    succ:      

}



;; Generating RTL for gimple basic block 2

;; __NVIC_SystemReset ();

(call_insn 5 4 6 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SystemReset") [flags 0x3]  <function_decl 0000000006385e00 __NVIC_SystemReset>) [0 __NVIC_SystemReset S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":217:3 -1
     (expr_list:REG_NORETURN (const_int 0 [0])
        (nil))
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))

(barrier 6 5 0)
deleting block 4


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(call_insn 5 2 6 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SystemReset") [flags 0x3]  <function_decl 0000000006385e00 __NVIC_SystemReset>) [0 __NVIC_SystemReset S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":217:3 -1
     (expr_list:REG_NORETURN (const_int 0 [0])
        (nil))
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))
;;  succ:      

(barrier 6 5 0)

;; Function HAL_SYSTICK_Config (HAL_SYSTICK_Config, funcdef_no=139, decl_uid=7233, cgraph_uid=144, symbol_order=143)

uint32_t HAL_SYSTICK_Config (uint32_t TicksNumb)
{
  uint32_t D.7984;
  uint32_t _4;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _4 = SysTick_Config (TicksNumb_2(D));
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _4;
;;    succ:       EXIT

}



Partition map 

Partition 2 (TicksNumb_2(D) - 2 )
Partition 4 (_4 - 4 )
Partition 5 (_5(D) - 5 )


Coalescible Partition map 

Partition 0, base 0 (TicksNumb_2(D) - 2 )
Partition 1, base 1 (_5(D) - 5 )


Partition map 

Partition 0 (TicksNumb_2(D) - 2 )
Partition 1 (_5(D) - 5 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (TicksNumb_2(D) - 2 )
Partition 1 (_5(D) - 5 )

After Coalescing:

Partition map 

Partition 0 (TicksNumb_2(D) - 2 )
Partition 1 (_4 - 4 )
Partition 2 (_5(D) - 5 )

uint32_t HAL_SYSTICK_Config (uint32_t TicksNumb)
{
  uint32_t D.7984;
  uint32_t _4;
  uint32_t _5(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _4 = SysTick_Config (TicksNumb_2(D));
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _4;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _4 = SysTick_Config (TicksNumb_2(D));

(insn 6 5 7 (set (reg:SI 0 r0)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 TicksNumb+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))

(call_insn 7 6 8 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("SysTick_Config") [flags 0x3]  <function_decl 000000000639f000 SysTick_Config>) [0 SysTick_Config S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (nil))))

(insn 8 7 0 (set (reg:SI 113 [ _4 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; <L0>:

(code_label 9 8 10 71 (nil) [0 uses])

(note 10 9 0 NOTE_INSN_BASIC_BLOCK)

;; return _4;

(insn 11 10 12 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))

(jump_insn 12 11 13 (set (pc)
        (label_ref 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))

(barrier 13 12 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Removing jump 12.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 TicksNumb+0 S4 A32])
        (reg:SI 0 r0 [ TicksNumb ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":228:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg:SI 0 r0)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 TicksNumb+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))
(call_insn 7 6 8 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("SysTick_Config") [flags 0x3]  <function_decl 000000000639f000 SysTick_Config>) [0 SysTick_Config S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (nil))))
(insn 8 7 11 2 (set (reg:SI 113 [ _4 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))
(insn 11 8 15 2 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":229:11 -1
     (nil))
(insn 15 11 16 2 (set (reg/i:SI 0 r0)
        (reg:SI 114 [ <retval> ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":230:1 -1
     (nil))
(insn 16 15 0 2 (use (reg/i:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":230:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function HAL_MPU_Disable (HAL_MPU_Disable, funcdef_no=140, decl_uid=7258, cgraph_uid=145, symbol_order=144)

void HAL_MPU_Disable ()
{
  struct SCB_Type * _1;
  long unsigned int _2;
  struct SCB_Type * _3;
  long unsigned int _4;
  struct MPU_Type * _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __asm__ __volatile__("dmb 0xF" :  :  : "memory");
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758157056B;
  _2 ={v} _1->SHCSR;
  _3 = 3758157056B;
  _4 = _2 & 4294901759;
  _3->SHCSR ={v} _4;
  _5 = 3758157200B;
  _5->CTRL ={v} 0;
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )


Coalescible Partition map 


After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )

void HAL_MPU_Disable ()
{
  struct SCB_Type * _1;
  long unsigned int _2;
  struct SCB_Type * _3;
  long unsigned int _4;
  struct MPU_Type * _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __asm__ __volatile__("dmb 0xF" :  :  : "memory");
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758157056B;
  _2 ={v} _1->SHCSR;
  _3 = 3758157056B;
  _4 = _2 & 4294901759;
  _3->SHCSR ={v} _4;
  _5 = 3758157200B;
  _5->CTRL ={v} 0;
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __asm__ __volatile__("dmb 0xF" :  :  : "memory");

(insn 5 4 0 (parallel [
            (asm_operands/v ("dmb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:282)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":282:3 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = 3758157056B;

(insn 7 6 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:6 -1
     (nil))

;; _2 ={v} _1->SHCSR;

(insn 8 7 0 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 36 [0x24])) [1 _1->SHCSR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:6 -1
     (nil))

;; _3 = 3758157056B;

(insn 9 8 0 (set (reg/f:SI 115 [ _3 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:6 -1
     (nil))

;; _4 = _2 & 4294901759;

(insn 10 9 0 (set (reg:SI 116 [ _4 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int -65537 [0xfffffffffffeffff]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:14 -1
     (nil))

;; _3->SHCSR ={v} _4;

(insn 11 10 0 (set (mem/v:SI (plus:SI (reg/f:SI 115 [ _3 ])
                (const_int 36 [0x24])) [1 _3->SHCSR+0 S4 A32])
        (reg:SI 116 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:14 -1
     (nil))

;; _5 = 3758157200B;

(insn 12 11 0 (set (reg/f:SI 117 [ _5 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":265:6 -1
     (nil))

;; _5->CTRL ={v} 0;

(insn 13 12 14 (set (reg:SI 118)
        (const_int 0 [0])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":265:13 -1
     (nil))

(insn 14 13 0 (set (mem/v:SI (plus:SI (reg/f:SI 117 [ _5 ])
                (const_int 4 [0x4])) [1 _5->CTRL+0 S4 A32])
        (reg:SI 118)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":265:13 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(insn 5 2 17 2 (parallel [
            (asm_operands/v ("dmb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:282)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":282:3 -1
     (nil))
(insn 17 5 7 2 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":283:1 -1
     (nil))
(insn 7 17 8 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:6 -1
     (nil))
(insn 8 7 9 2 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 36 [0x24])) [1 _1->SHCSR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:6 -1
     (nil))
(insn 9 8 10 2 (set (reg/f:SI 115 [ _3 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:6 -1
     (nil))
(insn 10 9 11 2 (set (reg:SI 116 [ _4 ])
        (and:SI (reg:SI 114 [ _2 ])
            (const_int -65537 [0xfffffffffffeffff]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:14 -1
     (nil))
(insn 11 10 12 2 (set (mem/v:SI (plus:SI (reg/f:SI 115 [ _3 ])
                (const_int 36 [0x24])) [1 _3->SHCSR+0 S4 A32])
        (reg:SI 116 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":262:14 -1
     (nil))
(insn 12 11 13 2 (set (reg/f:SI 117 [ _5 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":265:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:SI 118)
        (const_int 0 [0])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":265:13 -1
     (nil))
(insn 14 13 0 2 (set (mem/v:SI (plus:SI (reg/f:SI 117 [ _5 ])
                (const_int 4 [0x4])) [1 _5->CTRL+0 S4 A32])
        (reg:SI 118)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":265:13 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:266:1


;; Function HAL_MPU_Enable (HAL_MPU_Enable, funcdef_no=141, decl_uid=7256, cgraph_uid=146, symbol_order=145)

void HAL_MPU_Enable (uint32_t MPU_Control)
{
  struct MPU_Type * _1;
  long unsigned int _2;
  struct SCB_Type * _3;
  long unsigned int _4;
  struct SCB_Type * _5;
  long unsigned int _6;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157200B;
  _2 = MPU_Control_7(D) | 1;
  _1->CTRL ={v} _2;
  _3 = 3758157056B;
  _4 ={v} _3->SHCSR;
  _5 = 3758157056B;
  _6 = _4 | 65536;
  _5->SHCSR ={v} _6;
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
  __asm__ __volatile__("isb 0xF" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       3
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (MPU_Control_7(D) - 7 )


Coalescible Partition map 

Partition 0, base 0 (MPU_Control_7(D) - 7 )


Partition map 

Partition 0 (MPU_Control_7(D) - 7 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (MPU_Control_7(D) - 7 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (MPU_Control_7(D) - 7 )

void HAL_MPU_Enable (uint32_t MPU_Control)
{
  struct MPU_Type * _1;
  long unsigned int _2;
  struct SCB_Type * _3;
  long unsigned int _4;
  struct SCB_Type * _5;
  long unsigned int _6;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157200B;
  _2 = MPU_Control_7(D) | 1;
  _1->CTRL ={v} _2;
  _3 = 3758157056B;
  _4 ={v} _3->SHCSR;
  _5 = 3758157056B;
  _6 = _4 | 65536;
  _5->SHCSR ={v} _6;
  __asm__ __volatile__("dsb 0xF" :  :  : "memory");
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
  __asm__ __volatile__("isb 0xF" :  :  : "memory");
;;    succ:       4

;;   basic block 4, loop depth 0
;;    pred:       3
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = 3758157200B;

(insn 6 5 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:6 -1
     (nil))

;; _2 = MPU_Control_7(D) | 1;

(insn 7 6 8 (set (reg:SI 119)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 MPU_Control+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:27 -1
     (nil))

(insn 8 7 0 (set (reg:SI 114 [ _2 ])
        (ior:SI (reg:SI 119)
            (const_int 1 [0x1]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:27 -1
     (nil))

;; _1->CTRL ={v} _2;

(insn 9 8 0 (set (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 4 [0x4])) [1 _1->CTRL+0 S4 A32])
        (reg:SI 114 [ _2 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:13 -1
     (nil))

;; _3 = 3758157056B;

(insn 10 9 0 (set (reg/f:SI 115 [ _3 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:6 -1
     (nil))

;; _4 ={v} _3->SHCSR;

(insn 11 10 0 (set (reg:SI 116 [ _4 ])
        (mem/v:SI (plus:SI (reg/f:SI 115 [ _3 ])
                (const_int 36 [0x24])) [1 _3->SHCSR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:6 -1
     (nil))

;; _5 = 3758157056B;

(insn 12 11 0 (set (reg/f:SI 117 [ _5 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:6 -1
     (nil))

;; _6 = _4 | 65536;

(insn 13 12 0 (set (reg:SI 118 [ _6 ])
        (ior:SI (reg:SI 116 [ _4 ])
            (const_int 65536 [0x10000]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:14 -1
     (nil))

;; _5->SHCSR ={v} _6;

(insn 14 13 0 (set (mem/v:SI (plus:SI (reg/f:SI 117 [ _5 ])
                (const_int 36 [0x24])) [1 _5->SHCSR+0 S4 A32])
        (reg:SI 118 [ _6 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:14 -1
     (nil))

;; __asm__ __volatile__("dsb 0xF" :  :  : "memory");

(insn 15 14 0 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; __asm__ __volatile__("isb 0xF" :  :  : "memory");

(insn 17 16 0 (parallel [
            (asm_operands/v ("isb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:260)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":260:3 -1
     (nil))

;; Generating RTL for gimple basic block 4


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.
Merging block 6 into block 2...
Merged blocks 2 and 6.
Merged 2 and 6 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 MPU_Control+0 S4 A32])
        (reg:SI 0 r0 [ MPU_Control ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":280:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:6 -1
     (nil))
(insn 7 6 8 2 (set (reg:SI 119)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 MPU_Control+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:27 -1
     (nil))
(insn 8 7 9 2 (set (reg:SI 114 [ _2 ])
        (ior:SI (reg:SI 119)
            (const_int 1 [0x1]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:27 -1
     (nil))
(insn 9 8 10 2 (set (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 4 [0x4])) [1 _1->CTRL+0 S4 A32])
        (reg:SI 114 [ _2 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":282:13 -1
     (nil))
(insn 10 9 11 2 (set (reg/f:SI 115 [ _3 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:6 -1
     (nil))
(insn 11 10 12 2 (set (reg:SI 116 [ _4 ])
        (mem/v:SI (plus:SI (reg/f:SI 115 [ _3 ])
                (const_int 36 [0x24])) [1 _3->SHCSR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:6 -1
     (nil))
(insn 12 11 13 2 (set (reg/f:SI 117 [ _5 ])
        (const_int -536810240 [0xffffffffe000ed00])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:6 -1
     (nil))
(insn 13 12 14 2 (set (reg:SI 118 [ _6 ])
        (ior:SI (reg:SI 116 [ _4 ])
            (const_int 65536 [0x10000]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:14 -1
     (nil))
(insn 14 13 15 2 (set (mem/v:SI (plus:SI (reg/f:SI 117 [ _5 ])
                (const_int 36 [0x24])) [1 _5->SHCSR+0 S4 A32])
        (reg:SI 118 [ _6 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":285:14 -1
     (nil))
(insn 15 14 21 2 (parallel [
            (asm_operands/v ("dsb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:271)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":271:3 -1
     (nil))
(insn 21 15 17 2 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":272:1 -1
     (nil))
(insn 17 21 22 2 (parallel [
            (asm_operands/v ("isb 0xF") ("") 0 []
                 []
                 [] ../Drivers/CMSIS/Include/cmsis_gcc.h:260)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/CMSIS/Include/cmsis_gcc.h":260:3 -1
     (nil))
(insn 22 17 0 2 (const_int 0 [0]) "../Drivers/CMSIS/Include/cmsis_gcc.h":261:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:290:1


;; Function HAL_MPU_EnableRegion (HAL_MPU_EnableRegion, funcdef_no=142, decl_uid=7260, cgraph_uid=147, symbol_order=146)

void HAL_MPU_EnableRegion (uint32_t RegionNumber)
{
  struct MPU_Type * _1;
  struct MPU_Type * _2;
  long unsigned int _3;
  struct MPU_Type * _4;
  long unsigned int _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157200B;
  _1->RNR ={v} RegionNumber_7(D);
  _2 = 3758157200B;
  _3 ={v} _2->RASR;
  _4 = 3758157200B;
  _5 = _3 | 1;
  _4->RASR ={v} _5;
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 7 (RegionNumber_7(D) - 7 )


Coalescible Partition map 

Partition 0, base 0 (RegionNumber_7(D) - 7 )


Partition map 

Partition 0 (RegionNumber_7(D) - 7 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (RegionNumber_7(D) - 7 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (RegionNumber_7(D) - 7 )

void HAL_MPU_EnableRegion (uint32_t RegionNumber)
{
  struct MPU_Type * _1;
  struct MPU_Type * _2;
  long unsigned int _3;
  struct MPU_Type * _4;
  long unsigned int _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157200B;
  _1->RNR ={v} RegionNumber_7(D);
  _2 = 3758157200B;
  _3 ={v} _2->RASR;
  _4 = 3758157200B;
  _5 = _3 | 1;
  _4->RASR ={v} _5;
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = 3758157200B;

(insn 6 5 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":302:6 -1
     (nil))

;; _1->RNR ={v} RegionNumber_7(D);

(insn 7 6 8 (set (reg:SI 118)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 RegionNumber+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":302:12 -1
     (nil))

(insn 8 7 0 (set (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 8 [0x8])) [1 _1->RNR+0 S4 A32])
        (reg:SI 118)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":302:12 -1
     (nil))

;; _2 = 3758157200B;

(insn 9 8 0 (set (reg/f:SI 114 [ _2 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))

;; _3 ={v} _2->RASR;

(insn 10 9 0 (set (reg:SI 115 [ _3 ])
        (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 16 [0x10])) [1 _2->RASR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))

;; _4 = 3758157200B;

(insn 11 10 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))

;; _5 = _3 | 1;

(insn 12 11 0 (set (reg:SI 117 [ _5 ])
        (ior:SI (reg:SI 115 [ _3 ])
            (const_int 1 [0x1]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))

;; _4->RASR ={v} _5;

(insn 13 12 0 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 16 [0x10])) [1 _4->RASR+0 S4 A32])
        (reg:SI 117 [ _5 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 RegionNumber+0 S4 A32])
        (reg:SI 0 r0 [ RegionNumber ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":297:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":302:6 -1
     (nil))
(insn 7 6 8 2 (set (reg:SI 118)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 RegionNumber+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":302:12 -1
     (nil))
(insn 8 7 9 2 (set (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 8 [0x8])) [1 _1->RNR+0 S4 A32])
        (reg:SI 118)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":302:12 -1
     (nil))
(insn 9 8 10 2 (set (reg/f:SI 114 [ _2 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))
(insn 10 9 11 2 (set (reg:SI 115 [ _3 ])
        (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 16 [0x10])) [1 _2->RASR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))
(insn 11 10 12 2 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 117 [ _5 ])
        (ior:SI (reg:SI 115 [ _3 ])
            (const_int 1 [0x1]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))
(insn 13 12 0 2 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 16 [0x10])) [1 _4->RASR+0 S4 A32])
        (reg:SI 117 [ _5 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":305:3 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:306:1


;; Function HAL_MPU_DisableRegion (HAL_MPU_DisableRegion, funcdef_no=143, decl_uid=7262, cgraph_uid=148, symbol_order=147)

void HAL_MPU_DisableRegion (uint32_t RegionNumber)
{
  struct MPU_Type * _1;
  struct MPU_Type * _2;
  long unsigned int _3;
  struct MPU_Type * _4;
  long unsigned int _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157200B;
  _1->RNR ={v} RegionNumber_7(D);
  _2 = 3758157200B;
  _3 ={v} _2->RASR;
  _4 = 3758157200B;
  _5 = _3 & 4294967294;
  _4->RASR ={v} _5;
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 7 (RegionNumber_7(D) - 7 )


Coalescible Partition map 

Partition 0, base 0 (RegionNumber_7(D) - 7 )


Partition map 

Partition 0 (RegionNumber_7(D) - 7 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (RegionNumber_7(D) - 7 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (RegionNumber_7(D) - 7 )

void HAL_MPU_DisableRegion (uint32_t RegionNumber)
{
  struct MPU_Type * _1;
  struct MPU_Type * _2;
  long unsigned int _3;
  struct MPU_Type * _4;
  long unsigned int _5;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = 3758157200B;
  _1->RNR ={v} RegionNumber_7(D);
  _2 = 3758157200B;
  _3 ={v} _2->RASR;
  _4 = 3758157200B;
  _5 = _3 & 4294967294;
  _4->RASR ={v} _5;
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = 3758157200B;

(insn 6 5 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":318:6 -1
     (nil))

;; _1->RNR ={v} RegionNumber_7(D);

(insn 7 6 8 (set (reg:SI 118)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 RegionNumber+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":318:12 -1
     (nil))

(insn 8 7 0 (set (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 8 [0x8])) [1 _1->RNR+0 S4 A32])
        (reg:SI 118)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":318:12 -1
     (nil))

;; _2 = 3758157200B;

(insn 9 8 0 (set (reg/f:SI 114 [ _2 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))

;; _3 ={v} _2->RASR;

(insn 10 9 0 (set (reg:SI 115 [ _3 ])
        (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 16 [0x10])) [1 _2->RASR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))

;; _4 = 3758157200B;

(insn 11 10 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))

;; _5 = _3 & 4294967294;

(insn 12 11 0 (set (reg:SI 117 [ _5 ])
        (and:SI (reg:SI 115 [ _3 ])
            (const_int -2 [0xfffffffffffffffe]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))

;; _4->RASR ={v} _5;

(insn 13 12 0 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 16 [0x10])) [1 _4->RASR+0 S4 A32])
        (reg:SI 117 [ _5 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 RegionNumber+0 S4 A32])
        (reg:SI 0 r0 [ RegionNumber ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":313:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg/f:SI 113 [ _1 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":318:6 -1
     (nil))
(insn 7 6 8 2 (set (reg:SI 118)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 RegionNumber+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":318:12 -1
     (nil))
(insn 8 7 9 2 (set (mem/v:SI (plus:SI (reg/f:SI 113 [ _1 ])
                (const_int 8 [0x8])) [1 _1->RNR+0 S4 A32])
        (reg:SI 118)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":318:12 -1
     (nil))
(insn 9 8 10 2 (set (reg/f:SI 114 [ _2 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))
(insn 10 9 11 2 (set (reg:SI 115 [ _3 ])
        (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 16 [0x10])) [1 _2->RASR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))
(insn 11 10 12 2 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 117 [ _5 ])
        (and:SI (reg:SI 115 [ _3 ])
            (const_int -2 [0xfffffffffffffffe]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))
(insn 13 12 0 2 (set (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 16 [0x10])) [1 _4->RASR+0 S4 A32])
        (reg:SI 117 [ _5 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":321:3 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:322:1


;; Function HAL_MPU_ConfigRegion (HAL_MPU_ConfigRegion, funcdef_no=144, decl_uid=7264, cgraph_uid=149, symbol_order=148)

void HAL_MPU_ConfigRegion (struct MPU_Region_InitTypeDef * MPU_Init)
{
  unsigned char _1;
  struct MPU_Type * _2;
  long unsigned int _3;
  struct MPU_Type * _4;
  long unsigned int _5;
  struct MPU_Type * _6;
  long unsigned int _7;
  struct MPU_Type * _8;
  long unsigned int _9;
  unsigned char _10;
  long unsigned int _11;
  long unsigned int _12;
  unsigned char _13;
  long unsigned int _14;
  long unsigned int _15;
  long unsigned int _16;
  unsigned char _17;
  long unsigned int _18;
  long unsigned int _19;
  long unsigned int _20;
  unsigned char _21;
  long unsigned int _22;
  long unsigned int _23;
  long unsigned int _24;
  unsigned char _25;
  long unsigned int _26;
  long unsigned int _27;
  long unsigned int _28;
  unsigned char _29;
  long unsigned int _30;
  long unsigned int _31;
  long unsigned int _32;
  unsigned char _33;
  long unsigned int _34;
  long unsigned int _35;
  long unsigned int _36;
  unsigned char _37;
  long unsigned int _38;
  long unsigned int _39;
  long unsigned int _40;
  unsigned char _41;
  long unsigned int _42;
  struct MPU_Type * _43;
  long unsigned int _44;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = MPU_Init_46(D)->Number;
  _2 = 3758157200B;
  _3 = (long unsigned int) _1;
  _2->RNR ={v} _3;
  _4 = 3758157200B;
  _5 ={v} _4->RASR;
  _6 = 3758157200B;
  _7 = _5 & 4294967294;
  _6->RASR ={v} _7;
  _8 = 3758157200B;
  _9 = MPU_Init_46(D)->BaseAddress;
  _8->RBAR ={v} _9;
  _10 = MPU_Init_46(D)->DisableExec;
  _11 = (long unsigned int) _10;
  _12 = _11 << 28;
  _13 = MPU_Init_46(D)->AccessPermission;
  _14 = (long unsigned int) _13;
  _15 = _14 << 24;
  _16 = _12 | _15;
  _17 = MPU_Init_46(D)->TypeExtField;
  _18 = (long unsigned int) _17;
  _19 = _18 << 19;
  _20 = _16 | _19;
  _21 = MPU_Init_46(D)->IsShareable;
  _22 = (long unsigned int) _21;
  _23 = _22 << 18;
  _24 = _20 | _23;
  _25 = MPU_Init_46(D)->IsCacheable;
  _26 = (long unsigned int) _25;
  _27 = _26 << 17;
  _28 = _24 | _27;
  _29 = MPU_Init_46(D)->IsBufferable;
  _30 = (long unsigned int) _29;
  _31 = _30 << 16;
  _32 = _28 | _31;
  _33 = MPU_Init_46(D)->SubRegionDisable;
  _34 = (long unsigned int) _33;
  _35 = _34 << 8;
  _36 = _32 | _35;
  _37 = MPU_Init_46(D)->Size;
  _38 = (long unsigned int) _37;
  _39 = _38 << 1;
  _40 = _36 | _39;
  _41 = MPU_Init_46(D)->Enable;
  _42 = (long unsigned int) _41;
  _43 = 3758157200B;
  _44 = _40 | _42;
  _43->RASR ={v} _44;
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 9 (_9 - 9 )
Partition 10 (_10 - 10 )
Partition 11 (_11 - 11 )
Partition 12 (_12 - 12 )
Partition 13 (_13 - 13 )
Partition 14 (_14 - 14 )
Partition 15 (_15 - 15 )
Partition 16 (_16 - 16 )
Partition 17 (_17 - 17 )
Partition 18 (_18 - 18 )
Partition 19 (_19 - 19 )
Partition 20 (_20 - 20 )
Partition 21 (_21 - 21 )
Partition 22 (_22 - 22 )
Partition 23 (_23 - 23 )
Partition 24 (_24 - 24 )
Partition 25 (_25 - 25 )
Partition 26 (_26 - 26 )
Partition 27 (_27 - 27 )
Partition 28 (_28 - 28 )
Partition 29 (_29 - 29 )
Partition 30 (_30 - 30 )
Partition 31 (_31 - 31 )
Partition 32 (_32 - 32 )
Partition 33 (_33 - 33 )
Partition 34 (_34 - 34 )
Partition 35 (_35 - 35 )
Partition 36 (_36 - 36 )
Partition 37 (_37 - 37 )
Partition 38 (_38 - 38 )
Partition 39 (_39 - 39 )
Partition 40 (_40 - 40 )
Partition 41 (_41 - 41 )
Partition 42 (_42 - 42 )
Partition 43 (_43 - 43 )
Partition 44 (_44 - 44 )
Partition 46 (MPU_Init_46(D) - 46 )


Coalescible Partition map 

Partition 0, base 0 (MPU_Init_46(D) - 46 )


Partition map 

Partition 0 (MPU_Init_46(D) - 46 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (MPU_Init_46(D) - 46 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (_9 - 9 )
Partition 9 (_10 - 10 )
Partition 10 (_11 - 11 )
Partition 11 (_12 - 12 )
Partition 12 (_13 - 13 )
Partition 13 (_14 - 14 )
Partition 14 (_15 - 15 )
Partition 15 (_16 - 16 )
Partition 16 (_17 - 17 )
Partition 17 (_18 - 18 )
Partition 18 (_19 - 19 )
Partition 19 (_20 - 20 )
Partition 20 (_21 - 21 )
Partition 21 (_22 - 22 )
Partition 22 (_23 - 23 )
Partition 23 (_24 - 24 )
Partition 24 (_25 - 25 )
Partition 25 (_26 - 26 )
Partition 26 (_27 - 27 )
Partition 27 (_28 - 28 )
Partition 28 (_29 - 29 )
Partition 29 (_30 - 30 )
Partition 30 (_31 - 31 )
Partition 31 (_32 - 32 )
Partition 32 (_33 - 33 )
Partition 33 (_34 - 34 )
Partition 34 (_35 - 35 )
Partition 35 (_36 - 36 )
Partition 36 (_37 - 37 )
Partition 37 (_38 - 38 )
Partition 38 (_39 - 39 )
Partition 39 (_40 - 40 )
Partition 40 (_41 - 41 )
Partition 41 (_42 - 42 )
Partition 42 (_43 - 43 )
Partition 43 (_44 - 44 )
Partition 44 (MPU_Init_46(D) - 46 )

void HAL_MPU_ConfigRegion (struct MPU_Region_InitTypeDef * MPU_Init)
{
  unsigned char _1;
  struct MPU_Type * _2;
  long unsigned int _3;
  struct MPU_Type * _4;
  long unsigned int _5;
  struct MPU_Type * _6;
  long unsigned int _7;
  struct MPU_Type * _8;
  long unsigned int _9;
  unsigned char _10;
  long unsigned int _11;
  long unsigned int _12;
  unsigned char _13;
  long unsigned int _14;
  long unsigned int _15;
  long unsigned int _16;
  unsigned char _17;
  long unsigned int _18;
  long unsigned int _19;
  long unsigned int _20;
  unsigned char _21;
  long unsigned int _22;
  long unsigned int _23;
  long unsigned int _24;
  unsigned char _25;
  long unsigned int _26;
  long unsigned int _27;
  long unsigned int _28;
  unsigned char _29;
  long unsigned int _30;
  long unsigned int _31;
  long unsigned int _32;
  unsigned char _33;
  long unsigned int _34;
  long unsigned int _35;
  long unsigned int _36;
  unsigned char _37;
  long unsigned int _38;
  long unsigned int _39;
  long unsigned int _40;
  unsigned char _41;
  long unsigned int _42;
  struct MPU_Type * _43;
  long unsigned int _44;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = MPU_Init_46(D)->Number;
  _2 = 3758157200B;
  _3 = (long unsigned int) _1;
  _2->RNR ={v} _3;
  _4 = 3758157200B;
  _5 ={v} _4->RASR;
  _6 = 3758157200B;
  _7 = _5 & 4294967294;
  _6->RASR ={v} _7;
  _8 = 3758157200B;
  _9 = MPU_Init_46(D)->BaseAddress;
  _8->RBAR ={v} _9;
  _10 = MPU_Init_46(D)->DisableExec;
  _11 = (long unsigned int) _10;
  _12 = _11 << 28;
  _13 = MPU_Init_46(D)->AccessPermission;
  _14 = (long unsigned int) _13;
  _15 = _14 << 24;
  _16 = _12 | _15;
  _17 = MPU_Init_46(D)->TypeExtField;
  _18 = (long unsigned int) _17;
  _19 = _18 << 19;
  _20 = _16 | _19;
  _21 = MPU_Init_46(D)->IsShareable;
  _22 = (long unsigned int) _21;
  _23 = _22 << 18;
  _24 = _20 | _23;
  _25 = MPU_Init_46(D)->IsCacheable;
  _26 = (long unsigned int) _25;
  _27 = _26 << 17;
  _28 = _24 | _27;
  _29 = MPU_Init_46(D)->IsBufferable;
  _30 = (long unsigned int) _29;
  _31 = _30 << 16;
  _32 = _28 | _31;
  _33 = MPU_Init_46(D)->SubRegionDisable;
  _34 = (long unsigned int) _33;
  _35 = _34 << 8;
  _36 = _32 | _35;
  _37 = MPU_Init_46(D)->Size;
  _38 = (long unsigned int) _37;
  _39 = _38 << 1;
  _40 = _36 | _39;
  _41 = MPU_Init_46(D)->Enable;
  _42 = (long unsigned int) _41;
  _43 = 3758157200B;
  _44 = _40 | _42;
  _43->RASR ={v} _44;
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = MPU_Init_46(D)->Number;

(insn 6 5 7 (set (reg/f:SI 157)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:22 -1
     (nil))

(insn 7 6 0 (set (reg:SI 113 [ _1 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 157)
                    (const_int 1 [0x1])) [0 MPU_Init_46(D)->Number+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:22 -1
     (nil))

;; _2 = 3758157200B;

(insn 8 7 0 (set (reg/f:SI 114 [ _2 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:6 -1
     (nil))

;; _3 = (long unsigned int) _1;

(insn 9 8 0 (set (reg:SI 115 [ _3 ])
        (reg:SI 113 [ _1 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:22 -1
     (nil))

;; _2->RNR ={v} _3;

(insn 10 9 0 (set (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 8 [0x8])) [1 _2->RNR+0 S4 A32])
        (reg:SI 115 [ _3 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:12 -1
     (nil))

;; _4 = 3758157200B;

(insn 11 10 0 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))

;; _5 ={v} _4->RASR;

(insn 12 11 0 (set (reg:SI 117 [ _5 ])
        (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 16 [0x10])) [1 _4->RASR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))

;; _6 = 3758157200B;

(insn 13 12 0 (set (reg/f:SI 118 [ _6 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))

;; _7 = _5 & 4294967294;

(insn 14 13 0 (set (reg:SI 119 [ _7 ])
        (and:SI (reg:SI 117 [ _5 ])
            (const_int -2 [0xfffffffffffffffe]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))

;; _6->RASR ={v} _7;

(insn 15 14 0 (set (mem/v:SI (plus:SI (reg/f:SI 118 [ _6 ])
                (const_int 16 [0x10])) [1 _6->RASR+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))

;; _8 = 3758157200B;

(insn 16 15 0 (set (reg/f:SI 120 [ _8 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:6 -1
     (nil))

;; _9 = MPU_Init_46(D)->BaseAddress;

(insn 17 16 18 (set (reg/f:SI 158)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:23 -1
     (nil))

(insn 18 17 0 (set (reg:SI 121 [ _9 ])
        (mem:SI (plus:SI (reg/f:SI 158)
                (const_int 4 [0x4])) [1 MPU_Init_46(D)->BaseAddress+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:23 -1
     (nil))

;; _8->RBAR ={v} _9;

(insn 19 18 0 (set (mem/v:SI (plus:SI (reg/f:SI 120 [ _8 ])
                (const_int 12 [0xc])) [1 _8->RBAR+0 S4 A32])
        (reg:SI 121 [ _9 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:13 -1
     (nil))

;; _10 = MPU_Init_46(D)->DisableExec;

(insn 20 19 21 (set (reg/f:SI 159)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:34 -1
     (nil))

(insn 21 20 0 (set (reg:SI 122 [ _10 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 159)
                    (const_int 12 [0xc])) [0 MPU_Init_46(D)->DisableExec+0 S1 A32]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:34 -1
     (nil))

;; _11 = (long unsigned int) _10;

(insn 22 21 0 (set (reg:SI 123 [ _11 ])
        (reg:SI 122 [ _10 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:16 -1
     (nil))

;; _12 = _11 << 28;

(insn 23 22 0 (set (reg:SI 124 [ _12 ])
        (ashift:SI (reg:SI 123 [ _11 ])
            (const_int 28 [0x1c]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:60 -1
     (nil))

;; _13 = MPU_Init_46(D)->AccessPermission;

(insn 24 23 25 (set (reg/f:SI 160)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:34 -1
     (nil))

(insn 25 24 0 (set (reg:SI 125 [ _13 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 160)
                    (const_int 11 [0xb])) [0 MPU_Init_46(D)->AccessPermission+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:34 -1
     (nil))

;; _14 = (long unsigned int) _13;

(insn 26 25 0 (set (reg:SI 126 [ _14 ])
        (reg:SI 125 [ _13 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:16 -1
     (nil))

;; _15 = _14 << 24;

(insn 27 26 0 (set (reg:SI 127 [ _15 ])
        (ashift:SI (reg:SI 126 [ _14 ])
            (const_int 24 [0x18]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:60 -1
     (nil))

;; _16 = _12 | _15;

(insn 28 27 0 (set (reg:SI 128 [ _16 ])
        (ior:SI (reg:SI 124 [ _12 ])
            (reg:SI 127 [ _15 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:82 -1
     (nil))

;; _17 = MPU_Init_46(D)->TypeExtField;

(insn 29 28 30 (set (reg/f:SI 161)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:34 -1
     (nil))

(insn 30 29 0 (set (reg:SI 129 [ _17 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 161)
                    (const_int 10 [0xa])) [0 MPU_Init_46(D)->TypeExtField+0 S1 A16]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:34 -1
     (nil))

;; _18 = (long unsigned int) _17;

(insn 31 30 0 (set (reg:SI 130 [ _18 ])
        (reg:SI 129 [ _17 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:16 -1
     (nil))

;; _19 = _18 << 19;

(insn 32 31 0 (set (reg:SI 131 [ _19 ])
        (ashift:SI (reg:SI 130 [ _18 ])
            (const_int 19 [0x13]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:60 -1
     (nil))

;; _20 = _16 | _19;

(insn 33 32 0 (set (reg:SI 132 [ _20 ])
        (ior:SI (reg:SI 128 [ _16 ])
            (reg:SI 131 [ _19 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:82 -1
     (nil))

;; _21 = MPU_Init_46(D)->IsShareable;

(insn 34 33 35 (set (reg/f:SI 162)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:34 -1
     (nil))

(insn 35 34 0 (set (reg:SI 133 [ _21 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 162)
                    (const_int 13 [0xd])) [0 MPU_Init_46(D)->IsShareable+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:34 -1
     (nil))

;; _22 = (long unsigned int) _21;

(insn 36 35 0 (set (reg:SI 134 [ _22 ])
        (reg:SI 133 [ _21 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:16 -1
     (nil))

;; _23 = _22 << 18;

(insn 37 36 0 (set (reg:SI 135 [ _23 ])
        (ashift:SI (reg:SI 134 [ _22 ])
            (const_int 18 [0x12]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:60 -1
     (nil))

;; _24 = _20 | _23;

(insn 38 37 0 (set (reg:SI 136 [ _24 ])
        (ior:SI (reg:SI 132 [ _20 ])
            (reg:SI 135 [ _23 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:82 -1
     (nil))

;; _25 = MPU_Init_46(D)->IsCacheable;

(insn 39 38 40 (set (reg/f:SI 163)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:34 -1
     (nil))

(insn 40 39 0 (set (reg:SI 137 [ _25 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 163)
                    (const_int 14 [0xe])) [0 MPU_Init_46(D)->IsCacheable+0 S1 A16]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:34 -1
     (nil))

;; _26 = (long unsigned int) _25;

(insn 41 40 0 (set (reg:SI 138 [ _26 ])
        (reg:SI 137 [ _25 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:16 -1
     (nil))

;; _27 = _26 << 17;

(insn 42 41 0 (set (reg:SI 139 [ _27 ])
        (ashift:SI (reg:SI 138 [ _26 ])
            (const_int 17 [0x11]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:60 -1
     (nil))

;; _28 = _24 | _27;

(insn 43 42 0 (set (reg:SI 140 [ _28 ])
        (ior:SI (reg:SI 136 [ _24 ])
            (reg:SI 139 [ _27 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:82 -1
     (nil))

;; _29 = MPU_Init_46(D)->IsBufferable;

(insn 44 43 45 (set (reg/f:SI 164)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:34 -1
     (nil))

(insn 45 44 0 (set (reg:SI 141 [ _29 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 164)
                    (const_int 15 [0xf])) [0 MPU_Init_46(D)->IsBufferable+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:34 -1
     (nil))

;; _30 = (long unsigned int) _29;

(insn 46 45 0 (set (reg:SI 142 [ _30 ])
        (reg:SI 141 [ _29 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:16 -1
     (nil))

;; _31 = _30 << 16;

(insn 47 46 0 (set (reg:SI 143 [ _31 ])
        (ashift:SI (reg:SI 142 [ _30 ])
            (const_int 16 [0x10]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:60 -1
     (nil))

;; _32 = _28 | _31;

(insn 48 47 0 (set (reg:SI 144 [ _32 ])
        (ior:SI (reg:SI 140 [ _28 ])
            (reg:SI 143 [ _31 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:82 -1
     (nil))

;; _33 = MPU_Init_46(D)->SubRegionDisable;

(insn 49 48 50 (set (reg/f:SI 165)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:34 -1
     (nil))

(insn 50 49 0 (set (reg:SI 145 [ _33 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 165)
                    (const_int 9 [0x9])) [0 MPU_Init_46(D)->SubRegionDisable+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:34 -1
     (nil))

;; _34 = (long unsigned int) _33;

(insn 51 50 0 (set (reg:SI 146 [ _34 ])
        (reg:SI 145 [ _33 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:16 -1
     (nil))

;; _35 = _34 << 8;

(insn 52 51 0 (set (reg:SI 147 [ _35 ])
        (ashift:SI (reg:SI 146 [ _34 ])
            (const_int 8 [0x8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:60 -1
     (nil))

;; _36 = _32 | _35;

(insn 53 52 0 (set (reg:SI 148 [ _36 ])
        (ior:SI (reg:SI 144 [ _32 ])
            (reg:SI 147 [ _35 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:82 -1
     (nil))

;; _37 = MPU_Init_46(D)->Size;

(insn 54 53 55 (set (reg/f:SI 166)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:34 -1
     (nil))

(insn 55 54 0 (set (reg:SI 149 [ _37 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 166)
                    (const_int 8 [0x8])) [0 MPU_Init_46(D)->Size+0 S1 A32]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:34 -1
     (nil))

;; _38 = (long unsigned int) _37;

(insn 56 55 0 (set (reg:SI 150 [ _38 ])
        (reg:SI 149 [ _37 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:16 -1
     (nil))

;; _39 = _38 << 1;

(insn 57 56 0 (set (reg:SI 151 [ _39 ])
        (ashift:SI (reg:SI 150 [ _38 ])
            (const_int 1 [0x1]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:60 -1
     (nil))

;; _40 = _36 | _39;

(insn 58 57 0 (set (reg:SI 152 [ _40 ])
        (ior:SI (reg:SI 148 [ _36 ])
            (reg:SI 151 [ _39 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:82 -1
     (nil))

;; _41 = MPU_Init_46(D)->Enable;

(insn 59 58 60 (set (reg/f:SI 167)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":360:34 -1
     (nil))

(insn 60 59 0 (set (reg:SI 153 [ _41 ])
        (zero_extend:SI (mem:QI (reg/f:SI 167) [0 MPU_Init_46(D)->Enable+0 S1 A32]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":360:34 -1
     (nil))

;; _42 = (long unsigned int) _41;

(insn 61 60 0 (set (reg:SI 154 [ _42 ])
        (reg:SI 153 [ _41 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":360:60 -1
     (nil))

;; _43 = 3758157200B;

(insn 62 61 0 (set (reg/f:SI 155 [ _43 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:6 -1
     (nil))

;; _44 = _40 | _42;

(insn 63 62 0 (set (reg:SI 156 [ _44 ])
        (ior:SI (reg:SI 152 [ _40 ])
            (reg:SI 154 [ _42 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:82 -1
     (nil))

;; _43->RASR ={v} _44;

(insn 64 63 0 (set (mem/v:SI (plus:SI (reg/f:SI 155 [ _43 ])
                (const_int 16 [0x10])) [1 _43->RASR+0 S4 A32])
        (reg:SI 156 [ _44 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:13 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])
        (reg:SI 0 r0 [ MPU_Init ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":331:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg/f:SI 157)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:22 -1
     (nil))
(insn 7 6 8 2 (set (reg:SI 113 [ _1 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 157)
                    (const_int 1 [0x1])) [0 MPU_Init_46(D)->Number+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:22 -1
     (nil))
(insn 8 7 9 2 (set (reg/f:SI 114 [ _2 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:6 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 115 [ _3 ])
        (reg:SI 113 [ _1 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:22 -1
     (nil))
(insn 10 9 11 2 (set (mem/v:SI (plus:SI (reg/f:SI 114 [ _2 ])
                (const_int 8 [0x8])) [1 _2->RNR+0 S4 A32])
        (reg:SI 115 [ _3 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":345:12 -1
     (nil))
(insn 11 10 12 2 (set (reg/f:SI 116 [ _4 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 117 [ _5 ])
        (mem/v:SI (plus:SI (reg/f:SI 116 [ _4 ])
                (const_int 16 [0x10])) [1 _4->RASR+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))
(insn 13 12 14 2 (set (reg/f:SI 118 [ _6 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))
(insn 14 13 15 2 (set (reg:SI 119 [ _7 ])
        (and:SI (reg:SI 117 [ _5 ])
            (const_int -2 [0xfffffffffffffffe]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))
(insn 15 14 16 2 (set (mem/v:SI (plus:SI (reg/f:SI 118 [ _6 ])
                (const_int 16 [0x10])) [1 _6->RASR+0 S4 A32])
        (reg:SI 119 [ _7 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":348:3 -1
     (nil))
(insn 16 15 17 2 (set (reg/f:SI 120 [ _8 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:6 -1
     (nil))
(insn 17 16 18 2 (set (reg/f:SI 158)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:23 -1
     (nil))
(insn 18 17 19 2 (set (reg:SI 121 [ _9 ])
        (mem:SI (plus:SI (reg/f:SI 158)
                (const_int 4 [0x4])) [1 MPU_Init_46(D)->BaseAddress+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:23 -1
     (nil))
(insn 19 18 20 2 (set (mem/v:SI (plus:SI (reg/f:SI 120 [ _8 ])
                (const_int 12 [0xc])) [1 _8->RBAR+0 S4 A32])
        (reg:SI 121 [ _9 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":351:13 -1
     (nil))
(insn 20 19 21 2 (set (reg/f:SI 159)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:34 -1
     (nil))
(insn 21 20 22 2 (set (reg:SI 122 [ _10 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 159)
                    (const_int 12 [0xc])) [0 MPU_Init_46(D)->DisableExec+0 S1 A32]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:34 -1
     (nil))
(insn 22 21 23 2 (set (reg:SI 123 [ _11 ])
        (reg:SI 122 [ _10 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:16 -1
     (nil))
(insn 23 22 24 2 (set (reg:SI 124 [ _12 ])
        (ashift:SI (reg:SI 123 [ _11 ])
            (const_int 28 [0x1c]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:60 -1
     (nil))
(insn 24 23 25 2 (set (reg/f:SI 160)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:34 -1
     (nil))
(insn 25 24 26 2 (set (reg:SI 125 [ _13 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 160)
                    (const_int 11 [0xb])) [0 MPU_Init_46(D)->AccessPermission+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:34 -1
     (nil))
(insn 26 25 27 2 (set (reg:SI 126 [ _14 ])
        (reg:SI 125 [ _13 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:16 -1
     (nil))
(insn 27 26 28 2 (set (reg:SI 127 [ _15 ])
        (ashift:SI (reg:SI 126 [ _14 ])
            (const_int 24 [0x18]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:60 -1
     (nil))
(insn 28 27 29 2 (set (reg:SI 128 [ _16 ])
        (ior:SI (reg:SI 124 [ _12 ])
            (reg:SI 127 [ _15 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:82 -1
     (nil))
(insn 29 28 30 2 (set (reg/f:SI 161)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:34 -1
     (nil))
(insn 30 29 31 2 (set (reg:SI 129 [ _17 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 161)
                    (const_int 10 [0xa])) [0 MPU_Init_46(D)->TypeExtField+0 S1 A16]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:34 -1
     (nil))
(insn 31 30 32 2 (set (reg:SI 130 [ _18 ])
        (reg:SI 129 [ _17 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:16 -1
     (nil))
(insn 32 31 33 2 (set (reg:SI 131 [ _19 ])
        (ashift:SI (reg:SI 130 [ _18 ])
            (const_int 19 [0x13]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:60 -1
     (nil))
(insn 33 32 34 2 (set (reg:SI 132 [ _20 ])
        (ior:SI (reg:SI 128 [ _16 ])
            (reg:SI 131 [ _19 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":353:82 -1
     (nil))
(insn 34 33 35 2 (set (reg/f:SI 162)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:34 -1
     (nil))
(insn 35 34 36 2 (set (reg:SI 133 [ _21 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 162)
                    (const_int 13 [0xd])) [0 MPU_Init_46(D)->IsShareable+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:34 -1
     (nil))
(insn 36 35 37 2 (set (reg:SI 134 [ _22 ])
        (reg:SI 133 [ _21 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:16 -1
     (nil))
(insn 37 36 38 2 (set (reg:SI 135 [ _23 ])
        (ashift:SI (reg:SI 134 [ _22 ])
            (const_int 18 [0x12]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:60 -1
     (nil))
(insn 38 37 39 2 (set (reg:SI 136 [ _24 ])
        (ior:SI (reg:SI 132 [ _20 ])
            (reg:SI 135 [ _23 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":354:82 -1
     (nil))
(insn 39 38 40 2 (set (reg/f:SI 163)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:34 -1
     (nil))
(insn 40 39 41 2 (set (reg:SI 137 [ _25 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 163)
                    (const_int 14 [0xe])) [0 MPU_Init_46(D)->IsCacheable+0 S1 A16]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:34 -1
     (nil))
(insn 41 40 42 2 (set (reg:SI 138 [ _26 ])
        (reg:SI 137 [ _25 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:16 -1
     (nil))
(insn 42 41 43 2 (set (reg:SI 139 [ _27 ])
        (ashift:SI (reg:SI 138 [ _26 ])
            (const_int 17 [0x11]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:60 -1
     (nil))
(insn 43 42 44 2 (set (reg:SI 140 [ _28 ])
        (ior:SI (reg:SI 136 [ _24 ])
            (reg:SI 139 [ _27 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":355:82 -1
     (nil))
(insn 44 43 45 2 (set (reg/f:SI 164)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:34 -1
     (nil))
(insn 45 44 46 2 (set (reg:SI 141 [ _29 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 164)
                    (const_int 15 [0xf])) [0 MPU_Init_46(D)->IsBufferable+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:34 -1
     (nil))
(insn 46 45 47 2 (set (reg:SI 142 [ _30 ])
        (reg:SI 141 [ _29 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:16 -1
     (nil))
(insn 47 46 48 2 (set (reg:SI 143 [ _31 ])
        (ashift:SI (reg:SI 142 [ _30 ])
            (const_int 16 [0x10]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:60 -1
     (nil))
(insn 48 47 49 2 (set (reg:SI 144 [ _32 ])
        (ior:SI (reg:SI 140 [ _28 ])
            (reg:SI 143 [ _31 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":356:82 -1
     (nil))
(insn 49 48 50 2 (set (reg/f:SI 165)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:34 -1
     (nil))
(insn 50 49 51 2 (set (reg:SI 145 [ _33 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 165)
                    (const_int 9 [0x9])) [0 MPU_Init_46(D)->SubRegionDisable+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:34 -1
     (nil))
(insn 51 50 52 2 (set (reg:SI 146 [ _34 ])
        (reg:SI 145 [ _33 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:16 -1
     (nil))
(insn 52 51 53 2 (set (reg:SI 147 [ _35 ])
        (ashift:SI (reg:SI 146 [ _34 ])
            (const_int 8 [0x8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:60 -1
     (nil))
(insn 53 52 54 2 (set (reg:SI 148 [ _36 ])
        (ior:SI (reg:SI 144 [ _32 ])
            (reg:SI 147 [ _35 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":357:82 -1
     (nil))
(insn 54 53 55 2 (set (reg/f:SI 166)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:34 -1
     (nil))
(insn 55 54 56 2 (set (reg:SI 149 [ _37 ])
        (zero_extend:SI (mem:QI (plus:SI (reg/f:SI 166)
                    (const_int 8 [0x8])) [0 MPU_Init_46(D)->Size+0 S1 A32]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:34 -1
     (nil))
(insn 56 55 57 2 (set (reg:SI 150 [ _38 ])
        (reg:SI 149 [ _37 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:16 -1
     (nil))
(insn 57 56 58 2 (set (reg:SI 151 [ _39 ])
        (ashift:SI (reg:SI 150 [ _38 ])
            (const_int 1 [0x1]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:60 -1
     (nil))
(insn 58 57 59 2 (set (reg:SI 152 [ _40 ])
        (ior:SI (reg:SI 148 [ _36 ])
            (reg:SI 151 [ _39 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":358:82 -1
     (nil))
(insn 59 58 60 2 (set (reg/f:SI 167)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [9 MPU_Init+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":360:34 -1
     (nil))
(insn 60 59 61 2 (set (reg:SI 153 [ _41 ])
        (zero_extend:SI (mem:QI (reg/f:SI 167) [0 MPU_Init_46(D)->Enable+0 S1 A32]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":360:34 -1
     (nil))
(insn 61 60 62 2 (set (reg:SI 154 [ _42 ])
        (reg:SI 153 [ _41 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":360:60 -1
     (nil))
(insn 62 61 63 2 (set (reg/f:SI 155 [ _43 ])
        (const_int -536810096 [0xffffffffe000ed90])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:6 -1
     (nil))
(insn 63 62 64 2 (set (reg:SI 156 [ _44 ])
        (ior:SI (reg:SI 152 [ _40 ])
            (reg:SI 154 [ _42 ]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":359:82 -1
     (nil))
(insn 64 63 0 2 (set (mem/v:SI (plus:SI (reg/f:SI 155 [ _43 ])
                (const_int 16 [0x10])) [1 _43->RASR+0 S4 A32])
        (reg:SI 156 [ _44 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":352:13 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:361:1


;; Function HAL_CORTEX_ClearEvent (HAL_CORTEX_ClearEvent, funcdef_no=145, decl_uid=7266, cgraph_uid=150, symbol_order=149)

void HAL_CORTEX_ClearEvent ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __asm__ __volatile__("sev");
  __asm__ __volatile__("wfe" :  :  : "memory");
  return;
;;    succ:       EXIT

}



Partition map 



Coalescible Partition map 


After Coalescing:

Partition map 


void HAL_CORTEX_ClearEvent ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __asm__ __volatile__("sev");
  __asm__ __volatile__("wfe" :  :  : "memory");
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __asm__ __volatile__("sev");

(insn 5 4 0 (parallel [
            (asm_input/v ("sev") ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:370)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":370:3 -1
     (nil))

;; __asm__ __volatile__("wfe" :  :  : "memory");

(insn 6 5 0 (parallel [
            (asm_operands/v ("wfe") ("") 0 []
                 []
                 [] ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:371)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":371:3 -1
     (nil))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(insn 5 2 6 2 (parallel [
            (asm_input/v ("sev") ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:370)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":370:3 -1
     (nil))
(insn 6 5 0 2 (parallel [
            (asm_operands/v ("wfe") ("") 0 []
                 []
                 [] ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:371)
            (clobber (mem:BLK (scratch) [0  A8]))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":371:3 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:372:1


;; Function HAL_NVIC_GetPriorityGrouping (HAL_NVIC_GetPriorityGrouping, funcdef_no=146, decl_uid=7235, cgraph_uid=151, symbol_order=150)

uint32_t HAL_NVIC_GetPriorityGrouping ()
{
  uint32_t D.7990;
  uint32_t _3;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _3 = __NVIC_GetPriorityGrouping ();
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _3;
;;    succ:       EXIT

}



Partition map 

Partition 3 (_3 - 3 )
Partition 4 (_4(D) - 4 )


Coalescible Partition map 

Partition 0, base 0 (_4(D) - 4 )


Partition map 

Partition 0 (_4(D) - 4 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (_4(D) - 4 )

After Coalescing:

Partition map 

Partition 0 (_3 - 3 )
Partition 1 (_4(D) - 4 )

uint32_t HAL_NVIC_GetPriorityGrouping ()
{
  uint32_t D.7990;
  uint32_t _3;
  uint32_t _4(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _3 = __NVIC_GetPriorityGrouping ();
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _3;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _3 = __NVIC_GetPriorityGrouping ();

(call_insn 5 4 6 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPriorityGrouping") [flags 0x3]  <function_decl 000000000636b200 __NVIC_GetPriorityGrouping>) [0 __NVIC_GetPriorityGrouping S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))

(insn 6 5 0 (set (reg:SI 113 [ _3 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; <L0>:

(code_label 7 6 8 89 (nil) [0 uses])

(note 8 7 0 NOTE_INSN_BASIC_BLOCK)

;; return _3;

(insn 9 8 10 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _3 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil))

(jump_insn 10 9 11 (set (pc)
        (label_ref 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil))

(barrier 11 10 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Removing jump 10.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(call_insn 5 2 6 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPriorityGrouping") [flags 0x3]  <function_decl 000000000636b200 __NVIC_GetPriorityGrouping>) [0 __NVIC_GetPriorityGrouping S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))
(insn 6 5 9 2 (set (reg:SI 113 [ _3 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil))
(insn 9 6 13 2 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _3 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":381:10 -1
     (nil))
(insn 13 9 14 2 (set (reg/i:SI 0 r0)
        (reg:SI 114 [ <retval> ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":382:1 -1
     (nil))
(insn 14 13 0 2 (use (reg/i:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":382:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function HAL_NVIC_GetPriority (HAL_NVIC_GetPriority, funcdef_no=147, decl_uid=7240, cgraph_uid=152, symbol_order=151)

void HAL_NVIC_GetPriority (IRQn_Type IRQn, uint32_t PriorityGroup, uint32_t * pPreemptPriority, uint32_t * pSubPriority)
{
  long unsigned int _1;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = __NVIC_GetPriority (IRQn_3(D));
  NVIC_DecodePriority (_1, PriorityGroup_5(D), pPreemptPriority_6(D), pSubPriority_7(D));
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 3 (IRQn_3(D) - 3 )
Partition 5 (PriorityGroup_5(D) - 5 )
Partition 6 (pPreemptPriority_6(D) - 6 )
Partition 7 (pSubPriority_7(D) - 7 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_3(D) - 3 )
Partition 1, base 1 (PriorityGroup_5(D) - 5 )
Partition 2, base 2 (pPreemptPriority_6(D) - 6 )
Partition 3, base 3 (pSubPriority_7(D) - 7 )


Partition map 

Partition 0 (IRQn_3(D) - 3 )
Partition 1 (PriorityGroup_5(D) - 5 )
Partition 2 (pPreemptPriority_6(D) - 6 )
Partition 3 (pSubPriority_7(D) - 7 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_3(D) - 3 )
Partition 1 (PriorityGroup_5(D) - 5 )
Partition 2 (pPreemptPriority_6(D) - 6 )
Partition 3 (pSubPriority_7(D) - 7 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (IRQn_3(D) - 3 )
Partition 2 (PriorityGroup_5(D) - 5 )
Partition 3 (pPreemptPriority_6(D) - 6 )
Partition 4 (pSubPriority_7(D) - 7 )

void HAL_NVIC_GetPriority (IRQn_Type IRQn, uint32_t PriorityGroup, uint32_t * pPreemptPriority, uint32_t * pSubPriority)
{
  long unsigned int _1;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _1 = __NVIC_GetPriority (IRQn_3(D));
  NVIC_DecodePriority (_1, PriorityGroup_5(D), pPreemptPriority_6(D), pSubPriority_7(D));
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _1 = __NVIC_GetPriority (IRQn_3(D));

(insn 11 10 12 (set (reg:SI 116)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

(insn 12 11 13 (set (reg:SI 0 r0)
        (reg:SI 116)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

(call_insn 13 12 14 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPriority") [flags 0x3]  <function_decl 0000000006385400 __NVIC_GetPriority>) [0 __NVIC_GetPriority S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))

(insn 14 13 0 (set (reg:SI 113 [ _1 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

;; NVIC_DecodePriority (_1, PriorityGroup_5(D), pPreemptPriority_6(D), pSubPriority_7(D));

(insn 15 14 16 (set (reg:SI 3 r3)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -16 [0xfffffffffffffff0])) [7 pSubPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

(insn 16 15 17 (set (reg:SI 2 r2)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [7 pPreemptPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

(insn 17 16 18 (set (reg:SI 1 r1)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PriorityGroup+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

(insn 18 17 19 (set (reg:SI 0 r0)
        (reg:SI 113 [ _1 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))

(call_insn 19 18 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("NVIC_DecodePriority") [flags 0x3]  <function_decl 0000000006385800 NVIC_DecodePriority>) [0 NVIC_DecodePriority S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (expr_list:SI (use (reg:SI 2 r2))
                    (expr_list:SI (use (reg:SI 3 r3))
                        (nil)))))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 9 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 9 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 9 5 2 (set (reg:SI 114)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":406:1 -1
     (nil))
(insn 5 2 6 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PriorityGroup+0 S4 A32])
        (reg:SI 1 r1 [ PriorityGroup ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":406:1 -1
     (nil))
(insn 6 5 7 2 (set (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [7 pPreemptPriority+0 S4 A32])
        (reg:SI 2 r2 [ pPreemptPriority ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":406:1 -1
     (nil))
(insn 7 6 3 2 (set (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -16 [0xfffffffffffffff0])) [7 pSubPriority+0 S4 A32])
        (reg:SI 3 r3 [ pSubPriority ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":406:1 -1
     (nil))
(insn 3 7 4 2 (set (reg:QI 115)
        (subreg:QI (reg:SI 114) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":406:1 -1
     (nil))
(insn 4 3 8 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":406:1 -1
     (nil))
(note 8 4 11 2 NOTE_INSN_FUNCTION_BEG)
(insn 11 8 12 2 (set (reg:SI 116)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(insn 12 11 13 2 (set (reg:SI 0 r0)
        (reg:SI 116)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(call_insn 13 12 14 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPriority") [flags 0x3]  <function_decl 0000000006385400 __NVIC_GetPriority>) [0 __NVIC_GetPriority S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
(insn 14 13 15 2 (set (reg:SI 113 [ _1 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(insn 15 14 16 2 (set (reg:SI 3 r3)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -16 [0xfffffffffffffff0])) [7 pSubPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(insn 16 15 17 2 (set (reg:SI 2 r2)
        (mem/f/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -12 [0xfffffffffffffff4])) [7 pPreemptPriority+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(insn 17 16 18 2 (set (reg:SI 1 r1)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -8 [0xfffffffffffffff8])) [1 PriorityGroup+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(insn 18 17 19 2 (set (reg:SI 0 r0)
        (reg:SI 113 [ _1 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil))
(call_insn 19 18 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("NVIC_DecodePriority") [flags 0x3]  <function_decl 0000000006385800 NVIC_DecodePriority>) [0 NVIC_DecodePriority S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":410:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:SI (use (reg:SI 0 r0))
            (expr_list:SI (use (reg:SI 1 r1))
                (expr_list:SI (use (reg:SI 2 r2))
                    (expr_list:SI (use (reg:SI 3 r3))
                        (nil)))))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:411:1


;; Function HAL_NVIC_SetPendingIRQ (HAL_NVIC_SetPendingIRQ, funcdef_no=148, decl_uid=7244, cgraph_uid=153, symbol_order=152)

void HAL_NVIC_SetPendingIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_SetPendingIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



Partition map 

Partition 2 (IRQn_2(D) - 2 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_2(D) - 2 )


Partition map 

Partition 0 (IRQn_2(D) - 2 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

After Coalescing:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

void HAL_NVIC_SetPendingIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_SetPendingIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __NVIC_SetPendingIRQ (IRQn_2(D));

(insn 8 7 9 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":426:3 -1
     (nil))

(insn 9 8 10 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":426:3 -1
     (nil))

(call_insn 10 9 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPendingIRQ") [flags 0x3]  <function_decl 000000000636bc00 __NVIC_SetPendingIRQ>) [0 __NVIC_SetPendingIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":426:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 113)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":421:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 114)
        (subreg:QI (reg:SI 113) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":421:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 114)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":421:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":426:3 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":426:3 -1
     (nil))
(call_insn 10 9 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_SetPendingIRQ") [flags 0x3]  <function_decl 000000000636bc00 __NVIC_SetPendingIRQ>) [0 __NVIC_SetPendingIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":426:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:427:1


;; Function HAL_NVIC_GetPendingIRQ (HAL_NVIC_GetPendingIRQ, funcdef_no=149, decl_uid=7242, cgraph_uid=154, symbol_order=153)

uint32_t HAL_NVIC_GetPendingIRQ (IRQn_Type IRQn)
{
  uint32_t D.8002;
  uint32_t _4;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _4 = __NVIC_GetPendingIRQ (IRQn_2(D));
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _4;
;;    succ:       EXIT

}



Partition map 

Partition 2 (IRQn_2(D) - 2 )
Partition 4 (_4 - 4 )
Partition 5 (_5(D) - 5 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_2(D) - 2 )
Partition 1, base 1 (_5(D) - 5 )


Partition map 

Partition 0 (IRQn_2(D) - 2 )
Partition 1 (_5(D) - 5 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_2(D) - 2 )
Partition 1 (_5(D) - 5 )

After Coalescing:

Partition map 

Partition 0 (IRQn_2(D) - 2 )
Partition 1 (_4 - 4 )
Partition 2 (_5(D) - 5 )

uint32_t HAL_NVIC_GetPendingIRQ (IRQn_Type IRQn)
{
  uint32_t D.8002;
  uint32_t _4;
  uint32_t _5(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _4 = __NVIC_GetPendingIRQ (IRQn_2(D));
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _4;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _4 = __NVIC_GetPendingIRQ (IRQn_2(D));

(insn 8 7 9 (set (reg:SI 117)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))

(insn 9 8 10 (set (reg:SI 0 r0)
        (reg:SI 117)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))

(call_insn 10 9 11 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPendingIRQ") [flags 0x3]  <function_decl 000000000636ba00 __NVIC_GetPendingIRQ>) [0 __NVIC_GetPendingIRQ S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))

(insn 11 10 0 (set (reg:SI 113 [ _4 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; <L0>:

(code_label 12 11 13 93 (nil) [0 uses])

(note 13 12 0 NOTE_INSN_BASIC_BLOCK)

;; return _4;

(insn 14 13 15 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))

(jump_insn 15 14 16 (set (pc)
        (label_ref 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))

(barrier 16 15 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Removing jump 15.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 115)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":439:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 116)
        (subreg:QI (reg:SI 115) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":439:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 116)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":439:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 117)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 0 r0)
        (reg:SI 117)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))
(call_insn 10 9 11 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetPendingIRQ") [flags 0x3]  <function_decl 000000000636ba00 __NVIC_GetPendingIRQ>) [0 __NVIC_GetPendingIRQ S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
(insn 11 10 14 2 (set (reg:SI 113 [ _4 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))
(insn 14 11 18 2 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":444:10 -1
     (nil))
(insn 18 14 19 2 (set (reg/i:SI 0 r0)
        (reg:SI 114 [ <retval> ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":445:1 -1
     (nil))
(insn 19 18 0 2 (use (reg/i:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":445:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function HAL_NVIC_ClearPendingIRQ (HAL_NVIC_ClearPendingIRQ, funcdef_no=150, decl_uid=7246, cgraph_uid=155, symbol_order=154)

void HAL_NVIC_ClearPendingIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_ClearPendingIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



Partition map 

Partition 2 (IRQn_2(D) - 2 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_2(D) - 2 )


Partition map 

Partition 0 (IRQn_2(D) - 2 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

After Coalescing:

Partition map 

Partition 0 (IRQn_2(D) - 2 )

void HAL_NVIC_ClearPendingIRQ (IRQn_Type IRQn)
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  __NVIC_ClearPendingIRQ (IRQn_2(D));
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; __NVIC_ClearPendingIRQ (IRQn_2(D));

(insn 8 7 9 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":460:3 -1
     (nil))

(insn 9 8 10 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":460:3 -1
     (nil))

(call_insn 10 9 0 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_ClearPendingIRQ") [flags 0x3]  <function_decl 000000000636be00 __NVIC_ClearPendingIRQ>) [0 __NVIC_ClearPendingIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":460:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 113)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":455:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 114)
        (subreg:QI (reg:SI 113) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":455:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 114)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":455:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 115)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":460:3 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 0 r0)
        (reg:SI 115)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":460:3 -1
     (nil))
(call_insn 10 9 0 2 (parallel [
            (call (mem:SI (symbol_ref:SI ("__NVIC_ClearPendingIRQ") [flags 0x3]  <function_decl 000000000636be00 __NVIC_ClearPendingIRQ>) [0 __NVIC_ClearPendingIRQ S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":460:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:461:1


;; Function HAL_NVIC_GetActive (HAL_NVIC_GetActive, funcdef_no=151, decl_uid=7248, cgraph_uid=156, symbol_order=155)

uint32_t HAL_NVIC_GetActive (IRQn_Type IRQn)
{
  uint32_t D.8010;
  uint32_t _4;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _4 = __NVIC_GetActive (IRQn_2(D));
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _4;
;;    succ:       EXIT

}



Partition map 

Partition 2 (IRQn_2(D) - 2 )
Partition 4 (_4 - 4 )
Partition 5 (_5(D) - 5 )


Coalescible Partition map 

Partition 0, base 0 (IRQn_2(D) - 2 )
Partition 1, base 1 (_5(D) - 5 )


Partition map 

Partition 0 (IRQn_2(D) - 2 )
Partition 1 (_5(D) - 5 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (IRQn_2(D) - 2 )
Partition 1 (_5(D) - 5 )

After Coalescing:

Partition map 

Partition 0 (IRQn_2(D) - 2 )
Partition 1 (_4 - 4 )
Partition 2 (_5(D) - 5 )

uint32_t HAL_NVIC_GetActive (IRQn_Type IRQn)
{
  uint32_t D.8010;
  uint32_t _4;
  uint32_t _5(D);

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  _4 = __NVIC_GetActive (IRQn_2(D));
;;    succ:       3

;;   basic block 3, loop depth 0
;;    pred:       2
<L0>:
  return _4;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; _4 = __NVIC_GetActive (IRQn_2(D));

(insn 8 7 9 (set (reg:SI 117)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))

(insn 9 8 10 (set (reg:SI 0 r0)
        (reg:SI 117)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))

(call_insn 10 9 11 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetActive") [flags 0x3]  <function_decl 0000000006385000 __NVIC_GetActive>) [0 __NVIC_GetActive S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))

(insn 11 10 0 (set (reg:SI 113 [ _4 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; <L0>:

(code_label 12 11 13 96 (nil) [0 uses])

(note 13 12 0 NOTE_INSN_BASIC_BLOCK)

;; return _4;

(insn 14 13 15 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))

(jump_insn 15 14 16 (set (pc)
        (label_ref 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))

(barrier 16 15 0)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.
Removing jump 15.
Merging block 5 into block 2...
Merged blocks 2 and 5.
Merged 2 and 5 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 6 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 6 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 6 3 2 (set (reg:SI 115)
        (reg:SI 0 r0 [ IRQn ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":472:1 -1
     (nil))
(insn 3 2 4 2 (set (reg:QI 116)
        (subreg:QI (reg:SI 115) 0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":472:1 -1
     (nil))
(insn 4 3 5 2 (set (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8])
        (reg:QI 116)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":472:1 -1
     (nil))
(note 5 4 8 2 NOTE_INSN_FUNCTION_BEG)
(insn 8 5 9 2 (set (reg:SI 117)
        (sign_extend:SI (mem/c:QI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                    (const_int -1 [0xffffffffffffffff])) [0 IRQn+0 S1 A8]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))
(insn 9 8 10 2 (set (reg:SI 0 r0)
        (reg:SI 117)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))
(call_insn 10 9 11 2 (parallel [
            (set (reg:SI 0 r0)
                (call (mem:SI (symbol_ref:SI ("__NVIC_GetActive") [flags 0x3]  <function_decl 0000000006385000 __NVIC_GetActive>) [0 __NVIC_GetActive S4 A32])
                    (const_int 0 [0])))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (expr_list:QI (use (reg:SI 0 r0))
            (nil))))
(insn 11 10 14 2 (set (reg:SI 113 [ _4 ])
        (reg:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))
(insn 14 11 18 2 (set (reg:SI 114 [ <retval> ])
        (reg:SI 113 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":477:10 -1
     (nil))
(insn 18 14 19 2 (set (reg/i:SI 0 r0)
        (reg:SI 114 [ <retval> ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":478:1 -1
     (nil))
(insn 19 18 0 2 (use (reg/i:SI 0 r0)) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":478:1 -1
     (nil))
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function HAL_SYSTICK_CLKSourceConfig (HAL_SYSTICK_CLKSourceConfig, funcdef_no=152, decl_uid=7250, cgraph_uid=157, symbol_order=156)

void HAL_SYSTICK_CLKSourceConfig (uint32_t CLKSource)
{
  struct SysTick_Type * _1;
  long unsigned int _2;
  struct SysTick_Type * _3;
  long unsigned int _4;
  struct SysTick_Type * _5;
  long unsigned int _6;
  struct SysTick_Type * _7;
  long unsigned int _8;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (CLKSource_10(D) == 4)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153744B;
  _2 ={v} _1->CTRL;
  _3 = 3758153744B;
  _4 = _2 | 4;
  _3->CTRL ={v} _4;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _5 = 3758153744B;
  _6 ={v} _5->CTRL;
  _7 = 3758153744B;
  _8 = _6 & 4294967291;
  _7->CTRL ={v} _8;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  return;
;;    succ:       EXIT

}



Partition map 

Partition 1 (_1 - 1 )
Partition 2 (_2 - 2 )
Partition 3 (_3 - 3 )
Partition 4 (_4 - 4 )
Partition 5 (_5 - 5 )
Partition 6 (_6 - 6 )
Partition 7 (_7 - 7 )
Partition 8 (_8 - 8 )
Partition 10 (CLKSource_10(D) - 10 )


Coalescible Partition map 

Partition 0, base 0 (CLKSource_10(D) - 10 )


Partition map 

Partition 0 (CLKSource_10(D) - 10 )


Conflict graph:

After sorting:
Coalesce List:

Partition map 

Partition 0 (CLKSource_10(D) - 10 )

After Coalescing:

Partition map 

Partition 0 (_1 - 1 )
Partition 1 (_2 - 2 )
Partition 2 (_3 - 3 )
Partition 3 (_4 - 4 )
Partition 4 (_5 - 5 )
Partition 5 (_6 - 6 )
Partition 6 (_7 - 7 )
Partition 7 (_8 - 8 )
Partition 8 (CLKSource_10(D) - 10 )

void HAL_SYSTICK_CLKSourceConfig (uint32_t CLKSource)
{
  struct SysTick_Type * _1;
  long unsigned int _2;
  struct SysTick_Type * _3;
  long unsigned int _4;
  struct SysTick_Type * _5;
  long unsigned int _6;
  struct SysTick_Type * _7;
  long unsigned int _8;

;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  if (CLKSource_10(D) == 4)
    goto <bb 3>; [INV]
  else
    goto <bb 4>; [INV]
;;    succ:       3
;;                4

;;   basic block 3, loop depth 0
;;    pred:       2
  _1 = 3758153744B;
  _2 ={v} _1->CTRL;
  _3 = 3758153744B;
  _4 = _2 | 4;
  _3->CTRL ={v} _4;
  goto <bb 5>; [INV]
;;    succ:       5

;;   basic block 4, loop depth 0
;;    pred:       2
  _5 = 3758153744B;
  _6 ={v} _5->CTRL;
  _7 = 3758153744B;
  _8 = _6 & 4294967291;
  _7->CTRL ={v} _8;
;;    succ:       5

;;   basic block 5, loop depth 0
;;    pred:       3
;;                4
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; if (CLKSource_10(D) == 4)

(insn 6 5 7 (set (reg:SI 121)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 CLKSource+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":492:6 -1
     (nil))

(insn 7 6 8 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 121)
            (const_int 4 [0x4]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":492:6 -1
     (nil))

(jump_insn 8 7 0 (set (pc)
        (if_then_else (ne (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 0)
            (pc))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":492:6 -1
     (nil))

;; Generating RTL for gimple basic block 3

;; _1 = 3758153744B;

(insn 10 9 0 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:12 -1
     (nil))

;; _2 ={v} _1->CTRL;

(insn 11 10 0 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (reg/f:SI 113 [ _1 ]) [1 _1->CTRL+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:12 -1
     (nil))

;; _3 = 3758153744B;

(insn 12 11 0 (set (reg/f:SI 115 [ _3 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:12 -1
     (nil))

;; _4 = _2 | 4;

(insn 13 12 0 (set (reg:SI 116 [ _4 ])
        (ior:SI (reg:SI 114 [ _2 ])
            (const_int 4 [0x4]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:19 -1
     (nil))

;; _3->CTRL ={v} _4;

(insn 14 13 0 (set (mem/v:SI (reg/f:SI 115 [ _3 ]) [1 _3->CTRL+0 S4 A32])
        (reg:SI 116 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:19 -1
     (nil))

;; Generating RTL for gimple basic block 4

;; 

(code_label 17 16 18 98 (nil) [0 uses])

(note 18 17 0 NOTE_INSN_BASIC_BLOCK)

;; _5 = 3758153744B;

(insn 19 18 0 (set (reg/f:SI 117 [ _5 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:12 -1
     (nil))

;; _6 ={v} _5->CTRL;

(insn 20 19 0 (set (reg:SI 118 [ _6 ])
        (mem/v:SI (reg/f:SI 117 [ _5 ]) [1 _5->CTRL+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:12 -1
     (nil))

;; _7 = 3758153744B;

(insn 21 20 0 (set (reg/f:SI 119 [ _7 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:12 -1
     (nil))

;; _8 = _6 & 4294967291;

(insn 22 21 0 (set (reg:SI 120 [ _8 ])
        (and:SI (reg:SI 118 [ _6 ])
            (const_int -5 [0xfffffffffffffffb]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:19 -1
     (nil))

;; _7->CTRL ={v} _8;

(insn 23 22 0 (set (mem/v:SI (reg/f:SI 119 [ _7 ]) [1 _7->CTRL+0 S4 A32])
        (reg:SI 120 [ _8 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:19 -1
     (nil))

;; Generating RTL for gimple basic block 5

;; 

(code_label 24 23 25 99 (nil) [0 uses])

(note 25 24 0 NOTE_INSN_BASIC_BLOCK)


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Redirecting jump 15 from 6 to 7.
Merging block 6 into block 5...
Merged blocks 5 and 6.
Merged 5 and 6 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 4 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 4, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 4 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(insn 2 4 3 2 (set (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 CLKSource+0 S4 A32])
        (reg:SI 0 r0 [ CLKSource ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":489:1 -1
     (nil))
(note 3 2 6 2 NOTE_INSN_FUNCTION_BEG)
(insn 6 3 7 2 (set (reg:SI 121)
        (mem/c:SI (plus:SI (reg/f:SI 108 virtual-stack-vars)
                (const_int -4 [0xfffffffffffffffc])) [1 CLKSource+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":492:6 -1
     (nil))
(insn 7 6 8 2 (set (reg:CC 100 cc)
        (compare:CC (reg:SI 121)
            (const_int 4 [0x4]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":492:6 -1
     (nil))
(jump_insn 8 7 9 2 (set (pc)
        (if_then_else (ne (reg:CC 100 cc)
                (const_int 0 [0]))
            (label_ref 17)
            (pc))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":492:6 -1
     (nil)
 -> 17)
;;  succ:       4 (FALLTHRU)
;;              5

;; basic block 4, loop depth 0, maybe hot
;;  prev block 2, next block 5, flags: (NEW, REACHABLE, RTL, MODIFIED, VISITED)
;;  pred:       2 (FALLTHRU)
(note 9 8 10 4 [bb 4] NOTE_INSN_BASIC_BLOCK)
(insn 10 9 11 4 (set (reg/f:SI 113 [ _1 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:12 -1
     (nil))
(insn 11 10 12 4 (set (reg:SI 114 [ _2 ])
        (mem/v:SI (reg/f:SI 113 [ _1 ]) [1 _1->CTRL+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:12 -1
     (nil))
(insn 12 11 13 4 (set (reg/f:SI 115 [ _3 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:12 -1
     (nil))
(insn 13 12 14 4 (set (reg:SI 116 [ _4 ])
        (ior:SI (reg:SI 114 [ _2 ])
            (const_int 4 [0x4]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:19 -1
     (nil))
(insn 14 13 15 4 (set (mem/v:SI (reg/f:SI 115 [ _3 ]) [1 _3->CTRL+0 S4 A32])
        (reg:SI 116 [ _4 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":494:19 -1
     (nil))
(jump_insn 15 14 16 4 (set (pc)
        (label_ref:SI 26)) 284 {*arm_jump}
     (nil)
 -> 26)
;;  succ:       7 [always]  ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:500:1

(barrier 16 15 17)
;; basic block 5, loop depth 0, maybe hot
;;  prev block 4, next block 7, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       2
(code_label 17 16 18 5 98 (nil) [1 uses])
(note 18 17 19 5 [bb 5] NOTE_INSN_BASIC_BLOCK)
(insn 19 18 20 5 (set (reg/f:SI 117 [ _5 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:12 -1
     (nil))
(insn 20 19 21 5 (set (reg:SI 118 [ _6 ])
        (mem/v:SI (reg/f:SI 117 [ _5 ]) [1 _5->CTRL+0 S4 A32])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:12 -1
     (nil))
(insn 21 20 22 5 (set (reg/f:SI 119 [ _7 ])
        (const_int -536813552 [0xffffffffe000e010])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:12 -1
     (nil))
(insn 22 21 23 5 (set (reg:SI 120 [ _8 ])
        (and:SI (reg:SI 118 [ _6 ])
            (const_int -5 [0xfffffffffffffffb]))) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:19 -1
     (nil))
(insn 23 22 26 5 (set (mem/v:SI (reg/f:SI 119 [ _7 ]) [1 _7->CTRL+0 S4 A32])
        (reg:SI 120 [ _8 ])) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":498:19 -1
     (nil))
;;  succ:       7 (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:500:1

;; basic block 7, loop depth 0, maybe hot
;;  prev block 5, next block 1, flags: (NEW, REACHABLE, RTL)
;;  pred:       5 (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:500:1
;;              4 [always]  ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:500:1
(code_label 26 23 27 7 97 (nil) [1 uses])
(note 27 26 0 7 [bb 7] NOTE_INSN_BASIC_BLOCK)
;;  succ:       EXIT [always]  (FALLTHRU)


;; Function HAL_SYSTICK_IRQHandler (HAL_SYSTICK_IRQHandler, funcdef_no=153, decl_uid=7252, cgraph_uid=158, symbol_order=157)

void HAL_SYSTICK_IRQHandler ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  HAL_SYSTICK_Callback ();
  return;
;;    succ:       EXIT

}



Partition map 



Coalescible Partition map 


After Coalescing:

Partition map 


void HAL_SYSTICK_IRQHandler ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  HAL_SYSTICK_Callback ();
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2

;; HAL_SYSTICK_Callback ();

(call_insn 5 4 0 (parallel [
            (call (mem:SI (symbol_ref/i:SI ("HAL_SYSTICK_Callback") [flags 0x3]  <function_decl 00000000067ccd00 HAL_SYSTICK_Callback>) [0 HAL_SYSTICK_Callback S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":508:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 5 2 NOTE_INSN_FUNCTION_BEG)
(call_insn 5 2 0 2 (parallel [
            (call (mem:SI (symbol_ref/i:SI ("HAL_SYSTICK_Callback") [flags 0x3]  <function_decl 00000000067ccd00 HAL_SYSTICK_Callback>) [0 HAL_SYSTICK_Callback S4 A32])
                (const_int 0 [0]))
            (use (const_int 0 [0]))
            (clobber (reg:SI 14 lr))
        ]) "../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c":508:3 -1
     (nil)
    (expr_list (clobber (reg:SI 12 ip))
        (nil)))
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:509:1


;; Function HAL_SYSTICK_Callback (HAL_SYSTICK_Callback, funcdef_no=154, decl_uid=7254, cgraph_uid=159, symbol_order=158)

__attribute__((weak))
void HAL_SYSTICK_Callback ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  return;
;;    succ:       EXIT

}



Partition map 



Coalescible Partition map 


After Coalescing:

Partition map 


__attribute__((weak))
void HAL_SYSTICK_Callback ()
{
;;   basic block 2, loop depth 0
;;    pred:       ENTRY
  return;
;;    succ:       EXIT

}



;; Generating RTL for gimple basic block 2


try_optimize_cfg iteration 1

Merging block 3 into block 2...
Merged blocks 2 and 3.
Merged 2 and 3 without moving.
Merging block 4 into block 2...
Merged blocks 2 and 4.
Merged 2 and 4 without moving.


try_optimize_cfg iteration 2

fix_loop_structure: fixing up loops for function


;;
;; Full RTL generated for this function:
;;
(note 1 0 3 NOTE_INSN_DELETED)
;; basic block 2, loop depth 0, maybe hot
;;  prev block 0, next block 1, flags: (NEW, REACHABLE, RTL, VISITED)
;;  pred:       ENTRY (FALLTHRU)
(note 3 1 2 2 [bb 2] NOTE_INSN_BASIC_BLOCK)
(note 2 3 0 2 NOTE_INSN_FUNCTION_BEG)
;;  succ:       EXIT [always]  (FALLTHRU) ../Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_cortex.c:520:1

